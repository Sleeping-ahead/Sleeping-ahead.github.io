<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="æ‘˜è¦ï¼šçº¿æ€§æ•´æ•°è§„åˆ’ï¼›æå–é‚»æ¥å…³ç³»ï¼›èƒ½é‡é¡¹è®¾ç½®åŠç´¯è®¡ï¼›æ„å»ºæ–¹ç¨‹çº¦æŸï¼›é‡å»ºæ¨¡å‹ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆä¸ƒï¼‰">
<meta property="og:url" content="http://example.com/2025/02/19/PolyFit07/index.html">
<meta property="og:site_name" content="å‰æ’çŒç¡æ‚ç‰©å †">
<meta property="og:description" content="æ‘˜è¦ï¼šçº¿æ€§æ•´æ•°è§„åˆ’ï¼›æå–é‚»æ¥å…³ç³»ï¼›èƒ½é‡é¡¹è®¾ç½®åŠç´¯è®¡ï¼›æ„å»ºæ–¹ç¨‹çº¦æŸï¼›é‡å»ºæ¨¡å‹ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E4%B8%89%E8%A7%92%E9%94%A5.gif">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E7%A1%AC%E7%BA%A6%E6%9D%9F%E4%B8%8E%E8%83%BD%E9%87%8F%E6%96%B9%E7%A8%8B.png">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E8%83%BD%E9%87%8F%E5%87%BD%E6%95%B0%E9%A1%B9.png">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E5%80%99%E9%80%89%E9%9D%A2%E6%8B%93%E6%89%91%E5%85%B3%E7%B3%BB.png">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E9%97%AD%E5%90%88%E7%A1%AC%E7%BA%A6%E6%9D%9F.png">
<meta property="og:image" content="http://example.com/2025/02/19/PolyFit07/%E5%80%99%E9%80%89%E9%9D%A2%E9%9B%862%E9%97%AD%E5%90%88%E6%A8%A1%E5%9E%8B.png">
<meta property="article:published_time" content="2025-02-19T14:28:22.000Z">
<meta property="article:modified_time" content="2025-03-29T15:31:18.382Z">
<meta property="article:author" content="Sleeping-Ahead">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="CGAL">
<meta property="article:tag" content="PolyFit">
<meta property="article:tag" content="æœ€å°äºŒä¹˜çº¿æ€§è§„åˆ’">
<meta property="article:tag" content="èƒ½é‡å‡½æ•°">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2025/02/19/PolyFit07/%E4%B8%89%E8%A7%92%E9%94%A5.gif">

<link rel="canonical" href="http://example.com/2025/02/19/PolyFit07/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆä¸ƒï¼‰ | å‰æ’çŒç¡æ‚ç‰©å †</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">å‰æ’çŒç¡æ‚ç‰©å †</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">LKH æ±‚å­˜ï¼Œæ¢è·¯ï¼Œèº¬è¡Œï¼Œæ—é€šï¼ŒæŒ¯å…´ï¼Œå»¶ç»­ã€‚<br>ç¬¬äºŒé˜¶æ®µï¼Œå¯åŠ¨ï¼</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/19/PolyFit07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Sleeping-Ahead">
      <meta itemprop="description" content="ä¸»è¦ç”¨é€”æ˜¯æŠ€æœ¯/ç®—æ³•çš„è®°å½•åšå®¢å“’ï¼<br>å¶å°”æ‘˜æŠ„ç‚¹æ‚ä¸ƒæ‚å…«çš„éšæƒ³~~<br>å˜»å˜»Ô…(Â¯ï¹ƒÂ¯Ô…)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å‰æ’çŒç¡æ‚ç‰©å †">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆä¸ƒï¼‰
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2025-02-19 22:28:22" itemprop="dateCreated datePublished" datetime="2025-02-19T22:28:22+08:00">2025-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-03-29 23:31:18" itemprop="dateModified" datetime="2025-03-29T23:31:18+08:00">2025-03-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%82%B9%E4%BA%91%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA/" itemprop="url" rel="index"><span itemprop="name">ç‚¹äº‘ä¸‰ç»´é‡å»º</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>23k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>42 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>æ‘˜è¦ï¼š<br>çº¿æ€§æ•´æ•°è§„åˆ’ï¼›æå–é‚»æ¥å…³ç³»ï¼›èƒ½é‡é¡¹è®¾ç½®åŠç´¯è®¡ï¼›æ„å»ºæ–¹ç¨‹çº¦æŸï¼›é‡å»ºæ¨¡å‹ã€‚</p>
<span id="more"></span>

<p>å†ç»ç‚¹äº‘èšç±»ã€å¤šè¾¹å½¢ç½‘ç»œé‡å»ºç­‰å¤„ç†ï¼Œæ‰‹ä¸­è¿™èŠ±èŠ±ç»¿ç»¿çš„å€™é€‰é¢ç‰‡æ•°æ®è¿˜å‰©ä¸€ä¸ªä¸»è¦çš„å¤„ç†æ­¥éª¤ï¼šçº¿æ€§æ•´æ•°è§„åˆ’ã€‚ä»¥æˆ‘ä»è¿ç­¹å­¦&#x2F;æœ€ä¼˜åŒ–ç†è®ºé‚£ç²—æµ…å€Ÿæ¥çš„ç†è§£ï¼Œè¿™ä¸ªè¿‡ç¨‹å°†åœ¨æŸäº›ç¡¬çº¦æŸæ¡ä»¶ä¸‹ï¼Œä»¥æœ€å°åŒ–èƒ½é‡å‡½æ•°ä¸­èƒ½é‡é¡¹çš„åŠ æƒå’Œä¸ºç›®æ ‡ï¼Œé€šè¿‡æ±‚è§£å™¨çš„è§£ç®—æ¥å¾—å‡ºæ— è¾¹ç•Œã€é—­åˆæµå‹çš„ä¸‰ç»´æ¨¡å‹ã€‚</p>
<h2 id="çº¿æ€§è§„åˆ’ä¹‹èƒ¡è¨€ä¹±è¯­"><a href="#çº¿æ€§è§„åˆ’ä¹‹èƒ¡è¨€ä¹±è¯­" class="headerlink" title="çº¿æ€§è§„åˆ’ä¹‹èƒ¡è¨€ä¹±è¯­"></a>çº¿æ€§è§„åˆ’ä¹‹èƒ¡è¨€ä¹±è¯­</h2><p>è¿˜æ˜¯æ›´å…·ä½“åœ°æ‹†è§£ä¸‹è¿™ä¸ªè¿‡ç¨‹ä¸­çš„æ€è·¯å§ã€‚ä¸ºæè¿°é¢ç‰‡é€‰å–è¿‡ç¨‹ï¼Œä»¥é›†åˆä¸­çš„é¢è¦ç´ å’Œè¾¹è¦ç´ ä¸ºå˜é‡ï¼Œæ„å»ºäºŒå…ƒçš„æ··åˆæ•´æ•°çº¿æ€§è§„åˆ’é—®é¢˜ï¼Œæ„Ÿè§‰å°±æ˜¯æŠŠå¤šè¾¹å½¢ç½‘ç»œä¸­çš„é¢å’Œçº¿æƒ³è±¡æˆæ–¹ç¨‹ä¸­çš„å˜é‡xã€yï¼Œè®¾ç½®å¤šä¸ªåŒ…å«ä¸åŒxå’Œyçš„æ–¹ç¨‹æ„æˆæ–¹ç¨‹ç»„ï¼Ÿçº¿æ€§è§„åˆ’å°±åƒæ˜¯æ±‚è§£å‡ºå…¶ä¸­æœ€æƒ³è¦çš„ï¼ˆå¤šä¸ªï¼‰xå’Œyå€¼ã€‚<br><img src="ä¸‰è§’é”¥.gif" alt="ä¸‰è§’é”¥" title="ä¸‰è§’é”¥"><br>æ€ä¹ˆå½¢å®¹å‘¢ï¼Œä»¥ä¸Šé¢çš„ä¸€ä¸ªä¸‰è§’é”¥å‡ ä½•ä½“ä¸ºä¾‹ï¼Œè¿™æ˜¯å¾ˆä¹…ä¹‹å‰æˆ‘æµ‹è¯•plyæ–‡ä»¶è¯»å†™åŠŸèƒ½æ—¶ç»˜åˆ¶çš„ï¼Œå®ƒç”±4ä¸ªé¢å’Œ6æ¡è¾¹ï¼ˆ&#x2F;12æ¡åŠè¾¹ï¼‰æ„æˆï¼Œç›¸å½“äºè¿™ä¸ªå‡ ä½•ä½“åŒ…å«äº†4ä¸ªxã€6ä¸ªyã€‚è¿™äº›å˜é‡æ˜¯å·²çŸ¥çš„å…¨éƒ¨æ¡ä»¶ï¼ŒæŠŠå®ƒä»¬å…¨éƒ¨ä¸¢ç»™æ±‚è§£å™¨åï¼Œä¸ºäº†è®©å®ƒè¿”å›ä¸€ä¸ªå®Œæ•´é—­åˆçš„å‡ ä½•ä½“è€Œä¸æ˜¯åˆ†æ•£çš„é¢&#x2F;çº¿ï¼Œå°±éœ€è¦è®¾ç½®ç§°ä¸ºâ€œæ¡ä»¶çº¦æŸâ€çš„é¢å¤–è¦æ±‚ã€‚ä¸€ä¸ªè¾ƒå®¹æ˜“ç†è§£çš„çº¦æŸæ˜¯è¦æ±‚æ¯æ¡çº¿yå¿…é¡»ä¸ä¸¤ä¸ªé¢xç›¸è¿ï¼Œå³è¿ç»­é—­åˆçš„å‡ ä½•ä½“ä¸­æ¯ä¸ªé¢éƒ½æ˜¯ä¸¤ä¸¤ç›¸æ¥çš„ã€‚åœ¨å½“å‰çš„è¿™ä¸ªä¸‰è§’é”¥ä¸­å¾ˆå®¹æ˜“èƒ½é è¿™ä¸ªçº¦æŸå¾—åˆ°å”¯ä¸€è§£ï¼Œæ¯•ç«Ÿå”¯ä¸€ç¬¦åˆè¯¥è¦æ±‚çš„xã€yç»„åˆåªæœ‰ä¸€ç§æƒ…å†µã€‚å€˜è‹¥æŠŠè¿™ä¸ªå‡ ä½•ä½“æ²¿ä¸­é—´è…°éƒ¨æ¨ªåˆ‡ä¸€åˆ€ï¼Œå¾—åˆ°ä¸€ä¸ªå°ä¸‰è§’é”¥å’Œæ¢¯å½¢ä½“ï¼Œæ»¡è¶³è¿™ä¸ªçº¦æŸæ¡ä»¶çš„å°±æœ‰ä¸¤ç»„è§£ï¼Œè¿™æ—¶å€™å°±è¦å¼•å…¥â€œèƒ½é‡å‡½æ•°â€æˆ–è€…åº”è¯¥è¯´æ˜¯â€œç›®æ ‡å‡½æ•°â€çš„æ¦‚å¿µï¼Œå®ƒåº”è¯¥æ˜¯é€šè¿‡ç»™æ¯ä¸ªx&#x2F;yèµ‹äºˆä¸åŒçš„å±æ€§å€¼ï¼Œæ¯”æ–¹è¯´æˆ‘æœŸæœ›å¾—åˆ°çš„å‡ ä½•ä½“è¿˜æ˜¯ä¸‰æ£±é”¥ï¼Œé‚£åœ¨æ±‚è§£å‰æˆ‘ä¼šå¯¹æ‰€æœ‰é¢xåšä¸€æ¬¡ä¸‰è§’é¢&#x2F;å››è§’é¢æ£€æµ‹ï¼Œç»™â€œä¸‰è§’é¢â€èµ‹ä¸€ä¸ªè¾ƒé«˜çš„å±æ€§å€¼ï¼Œâ€œå››è§’é¢â€èµ‹ä¸€ä¸ªè¾ƒä½çš„å±æ€§å€¼ï¼Œå½“è§£ç®—å™¨ç­›é€‰å‡ºäº†ä¸¤ç»„ï¼ˆæˆ–æ›´å¤šï¼‰è§£åï¼Œè¿›è¡Œèƒ½é‡å‡½æ•°æ±‚è§£çš„è¿‡ç¨‹ï¼Œå°†æ¯ç»„xyçš„å±æ€§å€¼ç´¯åŠ èµ·æ¥ï¼Œå–å€¼æœ€å¤§çš„é‚£ç»„è§£ä¸ºè¾“å‡ºç»“æœã€‚<br>é‚£ä¹ˆè¿™äº›ä¾¿æ˜¯æˆ‘å¯¹çº¿æ€§è§„åˆ’æ¦‚å¿µçš„ç†è§£äº†ï¼Œä¸æ˜¯å¾ˆä¸¥è°¨è‚¯å®šæ˜¯æœ‰é—®é¢˜çš„ï¼Œæ¬¢è¿æ–§æ­£åŠè¡¥å……ã€‚ä¸»è¦è¿˜æ˜¯è‡ªå·±æ€ æƒ°äº†ï¼Œæ²¡è®¤çœŸæ‰¾è¿‡è¿™æ–¹é¢çš„ç³»ç»Ÿæ€§å­¦ä¹ èµ„æ–™ï¼Œä»…çœ‹åˆ°è¿‡çš„ä¸¤ä»½åŸºç¡€çŸ¥è¯†å…¥é—¨<sup>[24]</sup>ã€<sup>[25]</sup>ä¹Ÿæ˜¯ä¸€å¤´é›¾æ°´ï¼Œä»¥åæœ‰å…´è¶£äº†å†ç¿»ç¿»çœ‹å§ï¼ˆç¬‘ï¼‰ã€‚</p>
<h3 id="PolyFitçš„çº¿æ€§è§„åˆ’æœ¯è¯­"><a href="#PolyFitçš„çº¿æ€§è§„åˆ’æœ¯è¯­" class="headerlink" title="PolyFitçš„çº¿æ€§è§„åˆ’æœ¯è¯­"></a>PolyFitçš„çº¿æ€§è§„åˆ’æœ¯è¯­</h3><p>èƒ¡æ‰¯äº†è¿™ä¹ˆä¹…ï¼Œä¹Ÿè¯¥æ¥çœ‹çœ‹è®ºæ–‡ä¸­å…³äºè¿™éƒ¨åˆ†çš„é˜è¿°ã€‚æ–‡ä¸­ä½œè€…è®¾ç½®äº†ä¸€ä¸ªç¡¬çº¦æŸæ¥ä¿è¯æ¨¡å‹çš„é—­åˆæ€§ï¼Œè§ä¸‹å›¾çš„é—­åˆæ¨¡å‹ç¡¬çº¦æŸå…¬å¼ï¼Œç¬¬ä¸€æ¡çš„ç­‰å¼å·¦ä¾§å˜é‡æ˜¯æ‰€æœ‰çš„è¾¹eiè¿æ¥çš„é¢æ•°é‡ï¼Œè®²äººè¯æ¥è¡¨è¿°æ˜¯å®ƒè¦æ±‚æ‰€æœ‰è¢«é€‰å–çš„è¾¹åªèƒ½è¿æ¥ä¸¤ä¸ªé¢ç‰‡ï¼Œæˆ–æ‰€è¿æ¥é¢ç‰‡èƒ½æ„æˆæ›´å¤§çš„å¤šè¾¹å½¢ï¼ˆåˆå¹¶åæ‰€æ¥çš„é¢æ•°ä¸º0ï¼‰ï¼Œä»è€Œä½¿é€‰å–çš„è¾¹å‡ä½äºé—­åˆå¤šè¾¹å½¢ä¸Šè€Œä¸æ˜¯å¤–å‡¸é¢ã€‚ä½†å¦‚å‰æ‰€è¿°ï¼Œä»…åœ¨è¯¥çº¦æŸä¸‹å€™é€‰å¹³é¢é›†å†…å­˜åœ¨å¤šç§ç¬¦åˆæ¡ä»¶çš„ç»„åˆï¼Œä¸ºæ±‚å¾—æœ€ä¼˜ç»“æœï¼ŒPolyFitç®—æ³•åŸºäºé¢ç‰‡æ”¯æ’‘ç‚¹æ•°é‡ã€é¢ç‰‡é¢ç§¯å’Œç‚¹è¦†ç›–é¢ç§¯è¿™ä¸‰ç±»é¢ç‰‡å±æ€§æ„å»ºä¼˜åŒ–é—®é¢˜çš„èƒ½é‡å‡½æ•°ï¼Œå¹¶é€šè¿‡èƒ½é‡æœ€å°åŒ–è¿‡ç¨‹å¾—åˆ°æœ€ä¼˜è§£ã€‚å…¶ä¸­çš„æœ€å°åŒ–è¿‡ç¨‹å¯ä»¥ç†è§£ä¸ºï¼Œæ¯ä¸ªé¢ç‰‡æ ¹æ®ä¸Šè¿°å‚æ•°èµ‹äºˆä¸€ä¸ªå€¼ï¼Œåœ¨ç­›é€‰å‡ºæ»¡è¶³çº¦æŸçš„æ‰€æœ‰ç»„åˆåï¼Œå–ç´¯è®¡å€¼æœ€å°çš„ç»„åˆä¸ºè§„åˆ’é—®é¢˜çš„è§£ã€‚<br><img src="ç¡¬çº¦æŸä¸èƒ½é‡æ–¹ç¨‹.png" alt="ç¡¬çº¦æŸä¸èƒ½é‡æ–¹ç¨‹" title="ç¡¬çº¦æŸä¸èƒ½é‡æ–¹ç¨‹"><br>å› æ­¤ï¼Œå¦‚ä½•å®šä¹‰åˆç†çš„èƒ½é‡å‡½æ•°ä¹Ÿæ˜¯è¯¥æ–¹æ³•çš„å…³é”®ã€‚PolyFitç®—æ³•çš„èƒ½é‡å‡½æ•°ç”±è¿™ä¸‰ä¸ªèƒ½é‡é¡¹æ„æˆï¼š<br><img src="èƒ½é‡å‡½æ•°é¡¹.png" alt="èƒ½é‡å‡½æ•°é¡¹" title="èƒ½é‡å‡½æ•°é¡¹"><br>æ•°æ®æ‹Ÿåˆé¡¹è¯„ä¼°ç”±ç‚¹ç°‡æ‰€æ‹Ÿåˆå¹³é¢çš„ç½®ä¿¡åº¦ï¼Œè¯¥å€¼æ ¹æ®å€™é€‰é¢å†…çš„å¹³é¢ç‚¹è·åŠç‚¹ä¸é¢çš„æ³•å‘é‡å·®å€¼æ¥ç¡®å®šï¼Œå¯åæ˜ å¯¹åº”ç‚¹äº‘çš„å¹³å¦åº¦åŠä¿¡å™ªæ¯”ã€‚<br>æ¨¡å‹å¤æ‚æ€§é¡¹å®šä¹‰ä¸ºæ¨¡å‹ä¸­é”åˆ©è¾¹ç¼˜çš„æ¯”ä¾‹ã€‚äºŒå…ƒå‡½æ•°ğ‘ğ‘œğ‘Ÿğ‘›ğ‘’ğ‘Ÿæ ¹æ®ç›¸è¿é¢å±æ€§å†³å®šè¾¹eæ˜¯å¦ä¸ºé”è¾¹ï¼Œç”±äºé¢ç‰‡å‡ä»¥ä¸¤ä¸¤ç›¸äº¤åˆ†å‰²å¾—åˆ°ï¼Œéå­¤ç«‹è¾¹ä¸é¢ç‰‡çš„æ‰€æœ‰æ‹“æ‰‘å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾bã€cè¡¨ç¤ºè¾¹èƒ½å°†ç›¸è¿é¢ç»„åˆä¸ºä¸€ä¸ªæ›´å¤§çš„å¤šè¾¹å½¢ï¼Œğ‘ğ‘œğ‘Ÿğ‘›ğ‘’ğ‘Ÿå€¼ä¸º1ï¼›å›¾dåˆ°gä¸­çš„è¾¹å¯è¡¨ç¤ºä¸ºæ¨¡å‹è¾¹ç•Œï¼Œğ‘ğ‘œğ‘Ÿğ‘›ğ‘’ğ‘Ÿå€¼ä¸º0ã€‚<br>ç‚¹è¦†ç›–é¡¹æŒ‡æ¨¡å‹ä¸­æœªè¦†ç›–ç‚¹äº‘çš„é¢ç‰‡å æ¯”ï¼Œå®ƒæ ¹æ®ç‚¹ç°‡åœ¨æ‹Ÿåˆé¢ä¸Šçš„é¢ç§¯ä¸æ‹Ÿåˆé¢æ€»é¢ç§¯æ¯”å€¼æ¥ç¡®å®šã€‚<br><img src="å€™é€‰é¢æ‹“æ‰‘å…³ç³».png" alt="å€™é€‰é¢æ‹“æ‰‘å…³ç³»" title="å€™é€‰é¢æ‹“æ‰‘å…³ç³»"></p>
<h2 id="é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æ•´ä½“æµç¨‹"><a href="#é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æ•´ä½“æµç¨‹" class="headerlink" title="é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æ•´ä½“æµç¨‹"></a>é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æ•´ä½“æµç¨‹</h2><p>ç»ˆäºï¼Œç†è®ºéƒ¨åˆ†åŸºæœ¬æ€»ç»“å®Œæ¯•ï¼Œè¿›å…¥ä»£ç è§£æç¯èŠ‚ã€‚æœ‰å…³é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æºç å°è£…åœ¨ReconstructProcessæ–‡ä»¶å†…ï¼Œä»£ç çš„åŸå§‹ç‰ˆæœ¬æ¥è‡ªPolygonal_surface_reconstruction&#x2F;polyfit_example_model_complexity_control.cppï¼Œç½‘å€<sup>[14]</sup>å¾€ä¸‹ç¿»çš„3.3ç« èŠ‚ä¾¿èƒ½çœ‹åˆ°ï¼Œä½œè€…åˆ—å‡ºäº†å¥½3ç§èƒ½æ„æˆä¸åŒè¡¨é¢å¤æ‚åº¦çš„æŒ‡å¯¼å‚æ•°ï¼Œè¿™äº›å‚æ•°æ˜¯ä¸Šé¢æåŠçš„èƒ½é‡é¡¹ç³»æ•°ï¼Œæˆ‘è¿™é‡Œè®¾ç½®çš„å€¼ä¸è®ºæ–‡å»ºè®®å€¼ç¨å¾®æœ‰ç‚¹ä¸åŒï¼šæ•°æ®æ‹Ÿåˆé¡¹wt_fitting &#x3D; 0.43ï¼Œæ¨¡å‹å¤æ‚æ€§é¡¹wt_complexity &#x3D; 0.30ï¼Œç‚¹è¦†ç›–é¡¹wt_coverage &#x3D; 0.27ï¼Œè®ºæ–‡å»ºè®®å€¼æ˜¯ 0.46ï¼Œ0.27ï¼Œ0.27ï¼Œç›¸æ¯”èµ·æ¥ç›¸å½“äºæŠŠæ‹Ÿåˆé¡¹çš„æƒé‡åŒ€äº†ç‚¹ç»™å¤æ‚æ€§é¡¹ï¼Œå¯èƒ½æ˜¯å½“æ—¶çš„æˆ‘æ›´çœ‹é‡æ¨¡å‹çš„ç»†èŠ‚å§ï¼Œå°è±¡ä¸­å¤æ‚æ€§é¡¹çš„æƒé‡è¶Šé«˜é‚£æœŸæœ›çš„æ¨¡å‹é”è¾¹æ•°ç›®&#x2F;å±€éƒ¨ç»†èŠ‚ä¼šæ›´å¤šã€‚<br>ä¸»ç¨‹åºä¸­å¯¹è¯¥éƒ¨åˆ†çš„è°ƒç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ReconstructProcess obj_recon;</span><br><span class="line">CGAL::Surface_mesh&lt;Kernel::Point_3&gt; mesh_model;<span class="comment">//æ¨¡å‹</span></span><br><span class="line"><span class="comment">//obj_recon.UseExtraFactor(0.05f);</span></span><br><span class="line"><span class="comment">//obj_recon.Reconstruct(mesh_candidate, mesh_model, obj_hp.GetTriplet(), 0.43f, 0.27f, 0.25f);//ç­›é€‰æ„æˆæ¨¡å‹çš„é¢ç‰‡é›†åˆ</span></span><br><span class="line">obj_recon.<span class="built_in">Reconstruct</span>(mesh_candidate, mesh_model, obj_hp.<span class="built_in">GetTriplet</span>(), <span class="number">0.43f</span>, <span class="number">0.27f</span>, <span class="number">0.30f</span>);<span class="comment">//é»˜è®¤çš„æ¨èå‚æ•°</span></span><br></pre></td></tr></table></figure>
<p>åŸºäºä¸Šä¸€å¤§èŠ‚ä¸­çš„å€™é€‰é¢é›†mesh_candidateï¼Œå‡½æ•°Reconstruct()å°†å¯¹å…¶è¿›è¡Œé‚»æ¥ä¿¡æ¯æå–ã€è®¾ç½®çº¦æŸæ¡ä»¶ã€æ„å»ºçº¦æŸæ–¹ç¨‹å’Œæ±‚è§£æ–¹ç¨‹4æ­¥ï¼Œå°†å¾—åˆ°çš„æœ€ä¼˜é¢é›†ç»„åˆå­˜å…¥åˆ°modelä¸­ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ReconstructProcess::Reconstruct</span><span class="params">(Polygon_mesh &amp; mesh_candidate, Polygon_mesh &amp; model,</span></span></span><br><span class="line"><span class="params"><span class="function">	<span class="type">const</span> Planes_intersections &amp; map_planes_intersection,</span></span></span><br><span class="line"><span class="params"><span class="function">	<span class="type">double</span> wt_fitting, <span class="type">double</span> wt_coverage, <span class="type">double</span> wt_complexity)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	CGAL::Timer timer;<span class="comment">//æ—¶é—´è®¡æ•°çš„å®ä¾‹</span></span><br><span class="line">	timer.<span class="built_in">start</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//0ã€æ£€éªŒæ•°æ®æœ‰æ•ˆæ€§</span></span><br><span class="line">	<span class="keyword">if</span> (mesh_candidate.<span class="built_in">num_faces</span>() &lt; <span class="number">4</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">&quot;é”™è¯¯ï¼šè‡³å°‘éœ€è¦4ä¸ªå€™é€‰è¡¨é¢æ‰èƒ½é‡å»ºå‡ºç´§å¯†æ¨¡å‹ï¼Œå½“å‰çš„è¡¨é¢é›†ä»…æœ‰ &quot;</span> + std::<span class="built_in">to_string</span>(mesh_candidate.<span class="built_in">num_faces</span>()) + <span class="string">&quot; ä¸ªé¢&quot;</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å‚æ•°åˆå§‹åŒ–</span></span><br><span class="line">	<span class="built_in">InitParameter</span>(wt_fitting, wt_coverage, wt_complexity);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1ã€è®¡ç®—è¡¨é¢çš„é‚»æ¥ä¿¡æ¯ï¼šmesh_candidateçš„ä¸‰é‡äº¤ç‚¹åŠå…¶è¾¹çš„æ‰€åœ¨é¢</span></span><br><span class="line">	<span class="built_in">GetAdjacency</span>(mesh_candidate, map_planes_intersection);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€è®¾ç½®çº¦æŸæ¡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span> (_isUseRoofObj)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">DefineConstraintFactors_v2</span>(mesh_candidate);<span class="comment">//å„èƒ½é‡é¡¹å½’ä¸€åŒ–å¤„ç†</span></span><br><span class="line">		<span class="built_in">DefineConstraintFactor_TopDis</span>(mesh_candidate);<span class="comment">//æ·»åŠ é¡¶é¢åå¥½é¡¹</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">DefineConstraintFactors</span>(mesh_candidate);<span class="comment">//åŸPolyFitæ–¹æ³•</span></span><br><span class="line">	<span class="comment">///è¾“å‡ºæµ‹è¯•_èƒ½é‡é¡¹ç´¯è®¡å€¼</span></span><br><span class="line">	<span class="comment">//CheckObjectiveValue(mesh_candidate);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3ã€æ„å»ºçº¦æŸæ–¹ç¨‹</span></span><br><span class="line">	<span class="built_in">BuildConstraint</span>(mesh_candidate);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4ã€æ±‚è§£çº¿æ€§çº¦æŸæ•´æ•°æ–¹ç¨‹</span></span><br><span class="line">	<span class="built_in">SolveConstraint</span>(mesh_candidate, model);</span><br><span class="line"></span><br><span class="line">	timer.<span class="built_in">stop</span>();</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;é‡å»ºæ¨¡å‹çš„é¢æ•°ä¸º &quot;</span> &lt;&lt; model.<span class="built_in">faces</span>().<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot; ä¸ªï¼Œè¿è¡Œè€—æ—¶ &quot;</span> &lt;&lt; timer.<span class="built_in">time</span>() &lt;&lt; <span class="string">&quot; ç§’&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é‚»æ¥ä¿¡æ¯æå–"><a href="#é‚»æ¥ä¿¡æ¯æå–" class="headerlink" title="é‚»æ¥ä¿¡æ¯æå–"></a>é‚»æ¥ä¿¡æ¯æå–</h2><p>ç¬¬ä¸€æ­¥æ˜¯æŠŠå€™é€‰é¢é›†çš„åŠè¾¹åˆ†ç±»ä¸ºäº¤å‰è¾¹å’Œè¾¹ç¼˜è¾¹ï¼Œä¾¿äºç¡®å®šæ‰€é€‰è¾¹ã€é¢çš„å…³ç³»ã€‚<br>è¯¥å°èŠ‚çš„ä»£ç å®ç°åœ¨å‡½æ•°ReconstructProcess::GetAdjacency()ï¼Œå…¶ä¸­2éƒ¨åˆ†çš„å†…å®¹æ²¡å¤ªå¼„æ‡‚å…¶ä¸­é€»è¾‘ï¼Œå¤§æ¦‚æ˜¯å…ˆå–å€™é€‰é¢é›†å†…çš„æ¯ä¸ªåŠè¾¹ï¼Œä¾æ®å‰ä¸€èŠ‚çš„ä¸‰é‡äº¤ç‚¹é›†åˆmap_planes_intersectionå¿«é€Ÿå®šä½å‡ºä¸¤ä¸ªç«¯ç‚¹çš„åæ ‡ï¼Œä»¥ä¸¤ä¸ªç«¯ç‚¹åæ ‡ä¸ºé”®ã€åŠè¾¹ä¸‹æ ‡ä¸ºå€¼å­˜å…¥åˆ°å“ˆå¸Œè¡¨face_poolã€‚ä½†æ˜¯ï¼Œæˆ‘è¦è¯´ä½†æ˜¯ï¼Œä»£ç é‡Œå†™äº†å¾ˆå¤šæ–­è¨€CGAL_assertion()ï¼Œçœ‹ä¼¼æ˜¯åšäº†äº›åˆ¤æ–­ç­›é€‰ï¼Œä½†è¿™äº›éƒ½æ˜¯debugç”¨çš„ï¼Œé™¤éå‰é¢æœ‰äº›æ­¥éª¤å¯¼è‡´æ•°æ®å‡ºç°ç¼ºå¤±ä¸ç„¶éƒ½ä¸ä¼šè§¦å‘ï¼ŒçœŸæ­£åšäº†åˆ¤æ–­çš„ä»…ä¸¤ä¸ªï¼šå»é™¤è¾¹ç•ŒåŠè¾¹ï¼ˆåªä¸ä¸€ä¸ªé¢ç›¸æ¥ï¼‰ã€è°ƒæ•´ç«¯ç‚¹é¡ºåºï¼Œå†µä¸”å·²çŸ¥meshä¸­ç‚¹ä¸‹æ ‡çš„æƒ…å†µä¸‹å¯ä»¥ç›´æ¥æ‹¿å–å¯¹åº”çš„ç‚¹åæ ‡ï¼Œæ„Ÿè§‰æ ¹æœ¬ä¸éœ€è¦ä¼ å…¥map_planes_intersectionæ¥è·å–ã€‚ä¸è¿‡å€’ä¹Ÿä½“ç°äº†CGALçš„ä¸¥å¯†æ€§ï¼Œå¦‚æœå‰é¢æäº†äº›åˆ å±æ€§çš„éªšæ“ä½œåˆ°è¿™ä¸€æ­¥å°±ä¼šè·‘ä¸é€šã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€å®šä¹‰ã€å£°æ˜</span></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Vertex_index, std::set&lt;<span class="type">const</span> Kernel::Plane_3*&gt; &gt; vertex_supporting_planes</span><br><span class="line">	= mesh_candidate.<span class="keyword">template</span> property_map&lt;Polygon_mesh::Vertex_index, std::set&lt;<span class="type">const</span> Kernel::Plane_3*&gt; &gt;(<span class="string">&quot;v:supp_plane&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_æ¯ä¸ªç‚¹çš„æ”¯æ’‘é¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾¹ç”±å®ƒçš„ä¸¤ä¸ªç«¯ç‚¹è¡¨ç¤º</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">typename</span> std::unordered_map&lt;<span class="type">const</span> Kernel::Point_3*, std::set&lt;Polygon_mesh::Halfedge_index&gt; &gt;	Edge_map;<span class="comment">//æ— åºæ˜ å°„_ç‚¹æŒ‡é’ˆå¯¹åº”åŠè¾¹ç´¢å¼•é›†åˆï¼Œè¡¨ç¤ºè¾¹ä¸å®ƒçš„åŠè¾¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">typename</span> std::unordered_map&lt;<span class="type">const</span> Kernel::Point_3*, Edge_map &gt;									Face_pool;<span class="comment">//æ— åºæ˜ å°„_ç‚¹æŒ‡é’ˆå¯¹åº”Edge_mapï¼Œè¡¨ç¤ºä¸€ç»„é‚»æ¥å…³ç³»</span></span><br><span class="line">Face_pool face_pool;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€å‘ face_pool ä¸­å­˜å…¥éè¾¹ç•Œè¾¹çš„æ‰€åœ¨é¢åŠè¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åæ ‡ï¼Œæ¯ä¸ªé¡¶ç‚¹ä¸ºä¸‰é‡äº¤ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> h : mesh_candidate.<span class="built_in">halfedges</span>())</span><br><span class="line">&#123;</span><br><span class="line">	Polygon_mesh::Face_index f = mesh_candidate.<span class="built_in">face</span>(h);<span class="comment">//è·å–æ¯ä¸ªåŠè¾¹æ‰€åœ¨çš„é¢ç´¢å¼•</span></span><br><span class="line">	<span class="keyword">if</span> (f == Polygon_mesh::<span class="built_in">null_face</span>())</span><br><span class="line">		<span class="keyword">continue</span>;<span class="comment">//åŠè¾¹æ²¡æœ‰å¯¹åº”çš„é¢ï¼Œåˆ™ä¸ºè¾¹ç•ŒåŠè¾¹ï¼Œè·³è¿‡</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è·å–åŠè¾¹çš„ç›®æ ‡é¡¶ç‚¹+æºé¡¶ç‚¹ã€å…¶æ‰€åœ¨çš„å¹³é¢</span></span><br><span class="line">	Polygon_mesh::Vertex_index sd = mesh_candidate.<span class="built_in">source</span>(h);</span><br><span class="line">	Polygon_mesh::Vertex_index td = mesh_candidate.<span class="built_in">target</span>(h);</span><br><span class="line">	<span class="type">const</span> std::set&lt;<span class="type">const</span> Kernel::Plane_3*&gt;&amp; set_s = vertex_supporting_planes[sd];</span><br><span class="line">	<span class="type">const</span> std::set&lt;<span class="type">const</span> Kernel::Plane_3*&gt;&amp; <span class="type">set_t</span> = vertex_supporting_planes[td];</span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(set_s.<span class="built_in">size</span>() == <span class="number">3</span>);<span class="comment">//æ–­è¨€_ç‚¹æ‰€åœ¨çš„å¹³é¢é›†åˆæœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œå³é¡¶ç‚¹æ˜¯ç”±ä¸‰ä¸ªå¹³é¢ç›¸äº¤è€Œæˆçš„</span></span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(<span class="type">set_t</span>.<span class="built_in">size</span>() == <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">	<span class="function">std::vector&lt;<span class="type">const</span> Kernel::Plane_3*&gt; <span class="title">s_planes</span><span class="params">(set_s.begin(), set_s.end())</span></span>;<span class="comment">//å°†å¹³é¢é›†åˆè½¬å­˜è‡³å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿è°ƒå–</span></span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(s_planes[<span class="number">0</span>] &lt; s_planes[<span class="number">1</span>]);<span class="comment">//æ–­è¨€_å¹³é¢æŒ‰åºæ’åˆ—</span></span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(s_planes[<span class="number">1</span>] &lt; s_planes[<span class="number">2</span>]);</span><br><span class="line">	<span class="type">const</span> Kernel::Point_3* s = map_planes_intersection[s_planes[<span class="number">0</span>]][s_planes[<span class="number">1</span>]][s_planes[<span class="number">2</span>]];<span class="comment">//è·å–äº¤ç‚¹åæ ‡</span></span><br><span class="line"></span><br><span class="line">	<span class="function">std::vector&lt;<span class="type">const</span> Kernel::Plane_3*&gt; <span class="title">t_planes</span><span class="params">(<span class="type">set_t</span>.begin(), <span class="type">set_t</span>.end())</span></span>;</span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(t_planes[<span class="number">0</span>] &lt; t_planes[<span class="number">1</span>]);</span><br><span class="line">	<span class="built_in">CGAL_assertion</span>(t_planes[<span class="number">1</span>] &lt; t_planes[<span class="number">2</span>]);</span><br><span class="line">	<span class="type">const</span> Kernel::Point_3* t = map_planes_intersection[t_planes[<span class="number">0</span>]][t_planes[<span class="number">1</span>]][t_planes[<span class="number">2</span>]];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (s &gt; t)</span><br><span class="line">		std::<span class="built_in">swap</span>(s, t);<span class="comment">//æºé¡¶ç‚¹åæ ‡å¤§äºç›®æ ‡é¡¶ç‚¹ï¼Œåˆ™å®ƒä»¬çš„é¡ºåºä¸ä¸€è‡´ï¼Œäº¤æ¢ä¸¤è€…çš„å€¼</span></span><br><span class="line">	face_pool[s][t].<span class="built_in">insert</span>(mesh_candidate.<span class="built_in">halfedge</span>(f));<span class="comment">//æºé¡¶ç‚¹å’Œç›®æ ‡é¡¶ç‚¹åæ ‡ä¸ºé”®ï¼ŒåŠè¾¹æ‰€åœ¨çš„é¢ç´¢å¼•ä¸ºå€¼ï¼Œæ’å…¥åˆ° face_pool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬3éƒ¨åˆ†åˆ™æŠŠface_poolæ¢äº†ä¸ªç»“æ„ä½“Intersectionè½¬å­˜åˆ°std::vector<Intersection> _adjacencyã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»“æ„ä½“_å¹³é¢ç›¸äº¤åŠè¾¹çš„ç‚¹ç»“æ„ï¼Œç»§æ‰¿è‡ªå®¹å™¨_å¤šè¾¹å½¢ç½‘ç»œåŠè¾¹ç´¢å¼•</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Intersection</span> : <span class="keyword">public</span> std::vector&lt;Polygon_mesh::Halfedge_index&gt;</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> Kernel::Point_3* s;<span class="comment">//æŒ‡é’ˆ_ç›¸äº¤åŠè¾¹çš„èµ·ç‚¹åæ ‡</span></span><br><span class="line">	<span class="type">const</span> Kernel::Point_3* t;<span class="comment">//æŒ‡é’ˆ_ç›¸äº¤åŠè¾¹çš„ç»ˆç‚¹åæ ‡</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€ä½¿ç”¨ _adjacency è½¬å­˜ face_pool ä¸­çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">for</span> (Face_pool::const_iterator it = face_pool.<span class="built_in">begin</span>(); it != face_pool.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> Kernel::Point_3* s = it-&gt;first;<span class="comment">//æºé¡¶ç‚¹åæ ‡</span></span><br><span class="line">	<span class="type">const</span> Edge_map&amp; tmp = it-&gt;second;</span><br><span class="line">	<span class="keyword">typename</span> Edge_map::const_iterator cur = tmp.<span class="built_in">begin</span>();</span><br><span class="line">	<span class="keyword">for</span> (; cur != tmp.<span class="built_in">end</span>(); ++cur)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">const</span> Kernel::Point_3* t = cur-&gt;first;<span class="comment">//ç›®æ ‡é¡¶ç‚¹åæ ‡</span></span><br><span class="line">		<span class="type">const</span> std::set&lt;Polygon_mesh::Halfedge_index&gt;&amp; faces = cur-&gt;second;<span class="comment">//é›†åˆ_åŠè¾¹ç´¢å¼•</span></span><br><span class="line">		Intersection fan;</span><br><span class="line">		fan.s = s;</span><br><span class="line">		fan.t = t;</span><br><span class="line">		fan.<span class="built_in">insert</span>(fan.<span class="built_in">end</span>(), faces.<span class="built_in">begin</span>(), faces.<span class="built_in">end</span>());</span><br><span class="line">		_adjacency.<span class="built_in">push_back</span>(fan);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è®¾ç½®çº¦æŸæ¡ä»¶"><a href="#è®¾ç½®çº¦æŸæ¡ä»¶" class="headerlink" title="è®¾ç½®çº¦æŸæ¡ä»¶"></a>è®¾ç½®çº¦æŸæ¡ä»¶</h2><p>å…ˆçœ‹DefineConstraintFactors()ä¸­çš„å†…å®¹ï¼Œè¿™é‡Œé¢å°è£…çš„æ˜¯åŸPolyFitçš„çº¦æŸæ–¹æ¡ˆã€‚ç¬¬1éƒ¨åˆ†æ˜¯å¸¸è§„çš„å˜é‡å£°æ˜ï¼Œæä¸€å˜´é¢˜å¤–è¯ï¼Œæ›´è€ç»ƒçš„å˜é‡å£°æ˜åº”è¯¥æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ç±»çš„ç§æœ‰å˜é‡é‚£ï¼Œå‡½æ•°ç”¨åˆ°çš„æ—¶å€™å†ç»™å®ƒå®šä¹‰&#x2F;åˆå§‹åŒ–&#x2F;åˆ†é…å†…å­˜ï¼Œå°è±¡ä¸­PolyFitçš„æºç ä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„ï¼Œå½“åˆå¤§æ¦‚æ˜¯ä¸ºäº†ç†æ¸…ç®—æ³•é‡Œé¢çš„è¿‡ç¨‹ï¼ŒæŠŠè¿™äº›å˜é‡çš„å£°æ˜å®šä¹‰ç»‘åˆ°ä¸€èµ·å¡åˆ°å„ä¸ªå‡½æ•°å†…åšå°è£…ï¼Œç°åœ¨å›çœ‹æœ‰ç‚¹åƒåŠ›ä¸è®¨å¥½ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€å‚æ•°å®šä¹‰/èµ·åˆ«å</span></span><br><span class="line"><span class="comment">//mesh_candidateå±æ€§æ˜ å°„</span></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt; face_num_supporting_points =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt;(<span class="string">&quot;f:num_supporting_points&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢çš„æ”¯æ’‘ç‚¹æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, FT&gt; face_areas =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, FT&gt;(<span class="string">&quot;f:face_area&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢çš„é¢ç§¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, FT&gt; face_covered_areas =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, FT&gt;(<span class="string">&quot;f:covered_area&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢çš„ç‚¹è¦†ç›–é¢ç§¯</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt; face_indices =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">add_property_map</span>&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt;(<span class="string">&quot;f:index&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¯æ’‘ç‚¹æ€»æ•°</span></span><br><span class="line"><span class="type">double</span> total_points = <span class="number">0.0</span>;</span><br><span class="line">std::<span class="type">size_t</span> idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> f : mesh_candidate.<span class="built_in">faces</span>())</span><br><span class="line">&#123;</span><br><span class="line">	total_points += face_num_supporting_points[f];</span><br><span class="line">	face_indices[f] = idx;<span class="comment">//ç»™æ¯ä¸ªé¢é™„ä¸Šæ–°çš„ç´¢å¼•å€¼</span></span><br><span class="line">	++idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::<span class="type">size_t</span> num_faces = mesh_candidate.<span class="built_in">number_of_faces</span>();<span class="comment">//å€™é€‰è¡¨é¢çš„é¢æ•°é‡</span></span><br><span class="line"><span class="function">std::<span class="type">size_t</span> <span class="title">num_edges</span><span class="params">(<span class="number">0</span>)</span></span>;<span class="comment">//äº¤å‰è¾¹æ•°é‡ï¼Œåˆå§‹å€¼ä¸º0</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬2éƒ¨åˆ†ï¼Œè®¡ç®—ä¸€äº›ä¸­é—´å˜é‡ï¼Œä¸»è¦æ˜¯ä¸ºäº¤å‰è¾¹ç´¢å¼•edge_usage_statuså’Œé”åˆ©è¾¹ç´¢å¼•edge_sharp_statuså–å€¼ï¼Œä»¥æ­¤è®¾ç½®çº¿æ€§è§„åˆ’æ±‚è§£å™¨MIP_Solverçš„å˜é‡å¯¹è±¡variablesã€‚è¿™é‡Œä½œè€…è®¾ç½®çº¦æŸçš„å˜é‡æ€»ä¸ªæ•°ä¸ºå€™é€‰é¢æ•°+ä¸¤å€äº¤å‰è¾¹æ•°ï¼Œæ¯ä¸ªå˜é‡ä¸ºäºŒè¿›åˆ¶ç±»å‹åªå¯å–å€¼0æˆ–1ã€‚è¿™æ®µä»£ç å¯¹åº”å›¾2ç¡¬çº¦æŸçš„ç¬¬äºŒä¸ªå¼å­ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªå˜é‡å–äºŒè¿›åˆ¶å¥½ç†è§£ï¼Œ1å’Œ0è¡¨ç¤ºåœ¨æå–æœ€ä¼˜é¢é›†çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦ä¿ç•™è¯¥å€™é€‰é¢&#x2F;è¾¹ï¼Œæ¯”è¾ƒæ‘¸ä¸ç€å¤´è„‘çš„æ˜¯å®ƒçš„å˜é‡æ€»æ•°æ˜¯num_faces + num_edges * 2 è€Œä¸æ˜¯ num_faces + num_edgesï¼Œé—®äº†ä¸‹aiçŒœæµ‹åŸå› å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰æ¯ä¸ªå€™é€‰é¢å¯¹åº”ä¸€ä¸ªäºŒè¿›åˆ¶å˜é‡ï¼ˆæ•°é‡ä¸ºnum_facesï¼‰ï¼Œç”¨äºå†³å®šè¯¥é¢æ˜¯å¦è¢«é€‰ä¸­ã€‚<br>ï¼ˆ2ï¼‰æ¯ä¸ªè¾¹éœ€è¦ä¸¤ä¸ªå˜é‡è¿›è¡Œçº¦æŸï¼Œç¬¬ä¸€ä¸ªä¸ºä¿ç•™çŠ¶æ€å˜é‡ï¼ˆæ•°é‡ä¸ºnum_edgesï¼‰ï¼Œå†³å®šè¯¥è¾¹æ˜¯å¦ä¿ç•™ï¼›ç¬¬äºŒä¸ªä¸ºé”&#x2F;äº¤å‰è¾¹çŠ¶æ€å˜é‡ï¼ˆæ•°é‡ä¸ºnum_edgesï¼‰ï¼Œç”¨äºåˆ¤æ–­è¯¥è¾¹æ˜¯å¦ä¸ºäº¤å‰è¾¹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	std::unordered_map&lt;<span class="type">const</span> Intersection*, std::<span class="type">size_t</span>&gt; edge_usage_status;<span class="comment">//æ— åºæ˜ å°„_äº¤å‰è¾¹ç´¢å¼•ï¼Œè¡¨ç¤ºè¯¥äº¤å‰è¾¹è¢«ä¿ç•™æˆ–ç§»é™¤</span></span><br><span class="line">	std::unordered_map&lt;<span class="type">const</span> Intersection*, std::<span class="type">size_t</span>&gt; edge_sharp_status;<span class="comment">//æ— åºæ˜ å°„_é”åˆ©è¾¹ç´¢å¼•ï¼Œè¡¨ç¤ºå…¶æ˜¯å¦ä¸ºé”åˆ©è¾¹</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2ã€è®¡ç®—çº¦æŸæ¡ä»¶çš„å€¼</span></span><br><span class="line"><span class="comment">// edge_usage_status èµ‹å€¼</span></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; _adjacency.<span class="built_in">size</span>(); ++i)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//éå†æ‰€æœ‰å«é‚»æ¥å…³ç³»çš„è¾¹ï¼Œå¹¶å°†åŒ…å«4ä¸ªåŠè¾¹çš„äº¤å‰è¾¹ç´¢å¼•æ·»åŠ åˆ° edge_usage_status</span></span><br><span class="line">	<span class="comment">//è¯¥è¾¹ç”±4ä¸ªå€™é€‰é¢ç›¸äº¤è€Œæˆ</span></span><br><span class="line">	<span class="type">const</span> Intersection&amp; fan = _adjacency[i];</span><br><span class="line">	<span class="keyword">if</span> (fan.<span class="built_in">size</span>() == <span class="number">4</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//äº¤å‰è¾¹ç´¢å¼• ä¸ºé”®ï¼Œå€™é€‰é¢æ•°é‡+äº¤å‰è¾¹æ•°é‡ ä¸ºå€¼</span></span><br><span class="line">		std::<span class="type">size_t</span> var_idx = num_faces + num_edges;</span><br><span class="line">		edge_usage_status[&amp;fan] = var_idx;</span><br><span class="line">		++num_edges;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// variables å®šä¹‰ã€èµ‹å€¼</span></span><br><span class="line">std::<span class="type">size_t</span> total_variables = num_faces + num_edges + num_edges;<span class="comment">//æ€»å˜é‡æ•°é‡ = å€™é€‰é¢æ•°é‡ + 2 * äº¤å‰è¾¹æ•°é‡</span></span><br><span class="line">variables = solver.<span class="built_in">create_variables</span>(total_variables);<span class="comment">//å®¹å™¨_å˜é‡ä¸ªæ•°ä¸º total_variables</span></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; total_variables; ++i)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//ä¸ºæ¯ä¸ªå˜é‡è®¾ç½®ç±»å‹ä¸º BINARYäºŒè¿›åˆ¶ï¼Œåªèƒ½å–0æˆ–1</span></span><br><span class="line">	MIP_Solver::Variable* v = variables[i];</span><br><span class="line">	v-&gt;<span class="built_in">set_variable_type</span>(MIP_Solver::Variable::BINARY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬3éƒ¨åˆ†ï¼Œè®¾ç½®çº¿æ€§ç›®æ ‡å‡½æ•°å¯¹è±¡objectiveï¼Œå®ƒçš„ç±»å‹ï¼ˆç›®æ ‡ï¼‰ä¸ºçº¿æ€§æœ€å°åŒ–ï¼Œè¿™æ„å‘³ç€åœ¨æ•´ä¸ªæ··åˆæ•´æ•°è§„åˆ’ï¼ˆMIPï¼‰é—®é¢˜ä¸­ï¼Œæ±‚è§£å™¨å°†ä¼šå¯»æ‰¾ä¸€ç»„å˜é‡å–å€¼ï¼Œä½¿å¾—ç›®æ ‡å‡½æ•°çš„å€¼å°½å¯èƒ½ä½ã€‚è¿™å—å€¼å¾—æ³¨æ„çš„ç‚¹æ˜¯å¯¹æƒé‡ç³»æ•°çš„å†æ¬¡è®¡ç®—ï¼Œåœ¨æˆ‘æ‘˜æŠ„çš„ä»£ç ä¸­æ‹Ÿåˆé¡¹çš„æƒé‡ä¸å˜ï¼Œä½™ä¸‹ä¸¤é¡¹ä¹˜ä¸Šç‚¹äº‘çš„æ€»ç‚¹æ•°ï¼Œå…¶ä¸­ç‚¹è¦†ç›–é¡¹å†é™¤ä»¥åŒ…å›´ç›’è¡¨é¢ç§¯ï¼ˆarea(M)ï¼‰ï¼Œå¤æ‚åº¦é¡¹é™¤ä»¥éè¾¹ç•Œçš„åŠè¾¹æ•°é‡ï¼ˆ|E|ï¼‰ã€‚å®ƒä»¬ä¿©çš„é™¤æ•°å¤„ç†å¯¹åº”èƒ½é‡å‡½æ•°é¡¹å…¬å¼ä¸­å„è‡ªçš„åˆ†å­é¡¹ï¼›ä¹˜ä»¥æ€»ç‚¹æ•°çš„ç†ç”±æŒ‰ä½œè€…åœ¨GitHubä¸Šçš„ç­”ç–‘<sup>[26]</sup>ï¼Œæ˜¯ä¸ºäº†å°†æƒé‡ç³»æ•°ä»[0,1.0f]çš„èŒƒå›´æ˜ å°„åˆ°[0,total_points]ï¼Œä»¥é¿å…æµ®ç‚¹æ•°çš„ç²¾åº¦æŸå¤±ã€‚<br>ï¼ˆæ³¨ï¼šæˆ‘ä¸å¤ªç¡®å®šå½“æ—¶æ‘˜æŠ„æ˜¯å¦æ”¹åŠ¨äº†æƒé‡ç³»æ•°çš„å†…å®¹ï¼Œåº”è¯¥æ˜¯æ²¡æœ‰çš„æ²¡é‚£ä¹ˆæ‰å®çš„ç†è®ºå‚¨å¤‡æˆ‘ä¸æ•¢ä¹±è°ƒï¼Œä¸”githubä¸Šå¯¹å½¢ç±»ä¼¼å¼çš„æƒé‡ç³»æ•°ä»£ç ï¼Œä½œè€…çš„ç­”ç–‘æ˜¯â€œæ‰€æœ‰ä¸‰ä¸ªæƒé‡éƒ½ç®€å•åœ°ä¹˜ä»¥æ€»ç‚¹æ•°â€ï¼Œæˆ–è®¸æ‹Ÿåˆé¡¹çš„æƒé‡ç³»æ•°_wt_fittingåœ¨åˆ«çš„åœ°æ–¹åšäº†â€œä¹˜ä»¥æ€»ç‚¹æ•°â€çš„å¤„ç†ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3ã€æ·»åŠ MIP_Solverçš„ objectiveï¼ˆå„ä¸ªèƒ½é‡é¡¹ï¼Ÿï¼‰</span></span><br><span class="line"><span class="comment">//å€™é€‰é¢é›†çš„é¡¶ç‚¹åæ ‡åŠå…¶åŒ…å›´ç›’å‚æ•°</span></span><br><span class="line"><span class="function">std::vector&lt;Kernel::Point_3&gt; <span class="title">vertices</span><span class="params">(mesh_candidate.number_of_vertices())</span></span>;</span><br><span class="line">idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> v : mesh_candidate.<span class="built_in">vertices</span>())</span><br><span class="line">&#123;</span><br><span class="line">	vertices[idx] = mesh_candidate.<span class="built_in">points</span>()[v];</span><br><span class="line">	++idx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> Kernel::Iso_cuboid_3&amp; box = CGAL::<span class="built_in">bounding_box</span>(vertices.<span class="built_in">begin</span>(), vertices.<span class="built_in">end</span>());<span class="comment">//è®¡ç®— vertices ç‚¹é›†çš„æœ€å°åŒ…å›´ç›’</span></span><br><span class="line">FT dx = box.<span class="built_in">xmax</span>() - box.<span class="built_in">xmin</span>();<span class="comment">//åŒ…å›´ç›’xyzæ–¹å‘ä¸Šçš„é•¿åº¦</span></span><br><span class="line">FT dy = box.<span class="built_in">ymax</span>() - box.<span class="built_in">ymin</span>();</span><br><span class="line">FT dz = box.<span class="built_in">zmax</span>() - box.<span class="built_in">zmin</span>();</span><br><span class="line">FT box_area = <span class="built_in">FT</span>(<span class="number">2.0</span>) * (dx * dy + dy * dz + dz * dx);<span class="comment">//åŒ…å›´ç›’è¡¨é¢ç§¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é€‰æ‹©æ›´å¥½çš„å°ºåº¦</span></span><br><span class="line"><span class="type">double</span> coeff_data_fitting = _wt_fitting;<span class="comment">//æ‹Ÿåˆé¡¹çš„æƒé‡ç³»æ•°</span></span><br><span class="line"><span class="type">double</span> coeff_coverage = total_points * _wt_coverage / box_area;<span class="comment">//ç‚¹è¦†ç›–é¡¹çš„æƒé‡ç³»æ•°</span></span><br><span class="line"><span class="type">double</span> coeff_complexity = total_points * _wt_complexity / <span class="built_in">double</span>(_adjacency.<span class="built_in">size</span>());<span class="comment">//å¤æ‚åº¦é¡¹çš„æƒé‡ç³»æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">///è¾“å‡ºæµ‹è¯•</span></span><br><span class="line"><span class="comment">//std::cout &lt;&lt; coeff_data_fitting &lt;&lt; &quot;  &quot; &lt;&lt; coeff_coverage &lt;&lt; &quot;  &quot; &lt;&lt; coeff_complexity &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">MIP_Solver::Linear_objective * objective = solver.<span class="built_in">create_objective</span>(MIP_Solver::Linear_objective::MINIMIZE);<span class="comment">//æŒ‡é’ˆ_çº¿æ€§ç›®æ ‡å‡½æ•°å¯¹è±¡ï¼Œå¹¶è®¾ç½®ç±»å‹ä¸ºæœ€å°åŒ–</span></span><br></pre></td></tr></table></figure>
<p>ä½™ä¸‹çš„ä¸€å°éƒ¨åˆ†å†…å®¹ï¼Œæ˜¯å¯¹çº¿æ€§ç›®æ ‡å‡½æ•°objectiveä¸­çš„æ¯ä¸ªå˜é‡variablesç´¯è®¡èƒ½é‡é¡¹å€¼ï¼Œç„¶åè®¾ç½®çº¦æŸæ¡ä»¶MIP_Solver::Linear_constraint* cã€‚ä»£ç ä¸­æ¯ä¸ªvariablesç´¯è®¡èƒ½é‡é¡¹çš„è¿‡ç¨‹ä¸ºï¼šæ‰¾åˆ°éè¾¹ç•ŒåŠè¾¹é›†åˆ_adjacencyä¸­çš„æ‰€æœ‰é”è¾¹ï¼Œå±äºé”è¾¹çš„å˜é‡ç´¯åŠ ä¸€ä¸ªå¤æ‚åº¦é¡¹çš„å€¼coeff_complexityï¼›éå†å€™é€‰é¢é›†mesh_candidateä¸­çš„æ¯ä¸ªé¢ç‰‡ï¼ŒæŒ‰é¢ä¸‹æ ‡æ‰¾åˆ°å¯¹åº”çš„variableså¹¶ç´¯è®¡æ•°æ®æ‹Ÿåˆé¡¹çš„å€¼ï¼š<br>è´Ÿçš„å¤æ‚åº¦é¡¹æƒé‡*è¯¥é¢ç‰‡çš„æ•´æˆç‚¹æ•°é‡ã€‚æ”¯æ’‘ç‚¹æ•°é‡çš„è®¡ç®—è¿‡ç¨‹å¯è·³è½¬åˆ°compute_confidences.hçš„Candidate_confidences<Kernel>::computeæŸ¥é˜…ï¼ˆ201-202è¡Œï¼‰ï¼Œè´Ÿå·æ„å‘³ç€æ”¯æŒç‚¹è¶Šå¤šï¼Œæ‹Ÿåˆèƒ½é‡è¶Šä½ï¼Œä»è€Œé¼“åŠ±ç›®æ ‡å‡½æ•°é€‰å–æ”¯æŒç‚¹æ•°æ›´å¤šçš„é¢ï¼›<br>æœ€åä¸€ä¸ªç‚¹è¦†ç›–é¡¹ï¼Œå…ˆè®¡ç®—æ¯ä¸ªé¢çš„æœªè¦†ç›–é¢ç§¯ï¼ˆé¢ç‰‡çš„æ€»é¢ç§¯å‡å»å·²è¦†ç›–é¢ç§¯ï¼‰ï¼Œå¹¶ä»¥coeff_coverageä¸ºæƒé‡å°†è¯¥å€¼ç´¯è®¡è¿›ç›®æ ‡å‡½æ•°çš„MIPå˜é‡ã€‚è¿™ä¸€é¡¹çš„ç›®çš„æ˜¯æƒ©ç½šæœªè¢«è¦†ç›–çš„åŒºåŸŸï¼Œä»è€Œå¼•å¯¼æœ€ç»ˆæ¨¡å‹æ›´å¥½åœ°è¦†ç›–ç‚¹äº‘æ•°æ®ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// edge_sharp_status èµ‹å€¼</span></span><br><span class="line">std::<span class="type">size_t</span> num_sharp_edges = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; _adjacency.<span class="built_in">size</span>(); ++i)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> Intersection&amp; fan = _adjacency[i];</span><br><span class="line">	<span class="keyword">if</span> (fan.<span class="built_in">size</span>() == <span class="number">4</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		std::<span class="type">size_t</span> var_idx = num_faces + num_edges + num_sharp_edges;<span class="comment">//å°–é”è¾¹æ•°é‡å¯èƒ½å°äºäº¤å‰è¾¹ï¼Œéƒ¨åˆ†variableså…¨ç¨‹0å€¼ï¼Ÿ</span></span><br><span class="line">		edge_sharp_status[&amp;fan] = var_idx;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//ç´¯è®¡å¤æ‚åº¦é¡¹</span></span><br><span class="line">		objective-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], coeff_complexity);<span class="comment">//ä¸ºæ¯ä¸ªMIPå˜é‡æ·»åŠ ç³»æ•°</span></span><br><span class="line">																		 <span class="comment">//ç³»æ•° = å¤æ‚åº¦é¡¹çš„æƒé‡ï¼Œè¡¨ç¤ºå¤æ‚åº¦é¡¹æ˜¯æœ€å°åŒ–ç›®æ ‡</span></span><br><span class="line">		++num_sharp_edges;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CGAL_assertion</span>(num_edges == num_sharp_edges);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> f : mesh_candidate.<span class="built_in">faces</span>())</span><br><span class="line">&#123;</span><br><span class="line">	std::<span class="type">size_t</span> var_idx = face_indices[f];</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç´¯è®¡æ•°æ®æ‹Ÿåˆé¡¹</span></span><br><span class="line">	std::<span class="type">size_t</span> num = face_num_supporting_points[f];<span class="comment">//é¢çš„æ”¯æ’‘ç‚¹æ•°é‡</span></span><br><span class="line">	objective-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], -coeff_data_fitting * num);<span class="comment">//ä¸ºæ¯ä¸ªMIPå˜é‡æ·»åŠ ç³»æ•°</span></span><br><span class="line">																			  <span class="comment">//ç³»æ•°=æ‹Ÿåˆèƒ½é‡é¡¹çš„æƒé‡*ï¼ˆ-æ”¯æ’‘ç‚¹æ•°ï¼‰ï¼Œè¡¨ç¤ºæ‹Ÿåˆèƒ½é‡é¡¹æ˜¯æœ€å°åŒ–ç›®æ ‡</span></span><br><span class="line">	<span class="comment">//ç´¯è®¡ç‚¹è¦†ç›–é¡¹</span></span><br><span class="line">	<span class="type">double</span> uncovered_area = (face_areas[f] - face_covered_areas[f]);<span class="comment">//é¢çš„æœªè¦†ç›–é¢ç§¯</span></span><br><span class="line">	objective-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], coeff_coverage * uncovered_area);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸ºäº†æ»¡è¶³é—­åˆç½‘æ ¼è¦æ±‚ï¼ˆå†…éƒ¨è¾¹æ°å¥½è¢«ä¸¤ä¸ªé¢å…±äº«ï¼‰ï¼Œæ·»åŠ çº¦æŸæ¡ä»¶MIP_Solver::Linear_constraint* cç¡®ä¿â€œä¸è¾¹å…³è”çš„é¢æ•°å¿…é¡»ä¸º2æˆ–0â€ã€‚åœ¨é¢å˜é‡éƒ¨åˆ†ï¼Œå¯¹fanä¸­æ¯ä¸ªå€™é€‰é¢ï¼Œå°†å¯¹åº”çš„é¢å˜é‡ä»¥ç³»æ•°1æ·»åŠ åˆ°çº¦æŸä¸­ï¼Œè¿™æ ·çº¦æŸé¡¹ç´¯åŠ äº†fanå†…æ‰€æœ‰é¢çš„å˜é‡ï¼›è¾¹å˜é‡éƒ¨åˆ†ï¼Œè‹¥ä¸ºå†…éƒ¨äº¤å‰è¾¹ï¼ˆfan.size() &#x3D;&#x3D; 4ï¼Œfanç”±å››ä¸ªé¢æ„æˆï¼‰ï¼Œå–å‡ºå¯¹åº”çš„è¾¹å˜é‡å¹¶æ·»åŠ ç³»æ•°-2ã€‚ç”±æ­¤æ„æˆçš„çº¦æŸè¡¨è¾¾å¼å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="é—­åˆç¡¬çº¦æŸ.png" alt="é—­åˆç¡¬çº¦æŸ" title="é—­åˆç¡¬çº¦æŸ"><br>ç”±äºè¾¹ç•Œè¾¹ä¸å±äºå°é—­æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œè‹¥è¯¥å˜é‡ä¸ºè¾¹ç•Œè¾¹ï¼Œåˆ™ä¸å¯¹å…¶ç´¯è®¡é¢å¤–çš„çº¦æŸå€¼ã€‚ï¼ˆæ³¨ï¼šè¿™é‡Œadd_coefficientçš„å¯¹è±¡ä¸ºçº¿æ€§çº¦æŸå˜é‡cï¼Œä¸Šé¢çš„add_coefficientå¯¹è±¡ä¸ºçº¿æ€§ç›®æ ‡å‡½æ•°objectiveï¼Œæ³¨æ„ç´¯è®¡å€¼çš„åŒºåˆ†ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ çº¦æŸï¼šä¸è¾¹å…³è”çš„é¢æ•°å¿…é¡»ä¸º2æˆ–0</span></span><br><span class="line">std::<span class="type">size_t</span> var_edge_used_idx = <span class="number">0</span>;<span class="comment">//è®°å½•å½“å‰äº¤å‰è¾¹å¯¹åº”çš„å˜é‡ç´¢å¼•</span></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; _adjacency.<span class="built_in">size</span>(); ++i)</span><br><span class="line">&#123;</span><br><span class="line">	MIP_Solver::Linear_constraint* c = solver.<span class="built_in">create_constraint</span>(<span class="number">0.0</span>, <span class="number">0.0</span>);<span class="comment">//çº¿æ€§çº¦æŸ_çº¦æŸä¸Šç•Œå’Œä¸‹ç•Œ = 0ï¼Œè¡¨ç¤ºæ— çº¦æŸæ¡ä»¶çº¦æŸ(æ— å–å€¼èŒƒå›´é™åˆ¶</span></span><br><span class="line">	<span class="type">const</span> Intersection&amp; fan = _adjacency[i];</span><br><span class="line">	<span class="keyword">for</span> (std::<span class="type">size_t</span> j = <span class="number">0</span>; j &lt; fan.<span class="built_in">size</span>(); ++j)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//å¯¹é¢æ·»åŠ çº¦æŸ</span></span><br><span class="line">		Polygon_mesh::Face_index f = mesh_candidate.<span class="built_in">face</span>(fan[j]);</span><br><span class="line">		std::<span class="type">size_t</span> var_idx = face_indices[f];</span><br><span class="line">		c-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], <span class="number">1.0</span>);<span class="comment">//è¡¨ç¤ºçº¦æŸä¸­åŒ…å«å˜é‡ variables[var_idx]</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//äº¤å‰è¾¹ç”±å››ä¸ªå€™é€‰é¢ç›¸äº¤è€Œæˆ</span></span><br><span class="line">	<span class="keyword">if</span> (fan.<span class="built_in">size</span>() == <span class="number">4</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//å¯¹äº¤å‰è¾¹æ·»åŠ çº¦æŸ</span></span><br><span class="line">		std::<span class="type">size_t</span> var_idx = num_faces + var_edge_used_idx;</span><br><span class="line">		c-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], <span class="number">-2.0</span>);<span class="comment">//è¡¨ç¤ºçº¦æŸä¸­åŒ…å«è¿™ä¸ªå˜é‡ï¼Œå¹¶ä¸”å®ƒä¸å…¶ä»–å˜é‡ä¹‹å’Œå¿…é¡»ç­‰äºé›¶ï¼Ÿ</span></span><br><span class="line">		++var_edge_used_idx;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//äº¤å‰è¾¹ä¸ºè¾¹ç•Œè¾¹ï¼Œä¸æ·»åŠ ä»»ä½•ç³»æ•°ï¼Œå› ä¸ºç”Ÿæˆçš„æ¨¡å‹ä¸ä¸ºå¼€æ”¾çš„è¡¨é¢æ¨¡å‹</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®é¢å¤–çš„èƒ½é‡é¡¹"><a href="#è®¾ç½®é¢å¤–çš„èƒ½é‡é¡¹" class="headerlink" title="è®¾ç½®é¢å¤–çš„èƒ½é‡é¡¹"></a>è®¾ç½®é¢å¤–çš„èƒ½é‡é¡¹</h3><p>é¦–è¦è¯´æ˜çš„æ˜¯ï¼Œä»£ç ä¸­çš„DefineConstraintFactors_v2()ä¸DefineConstraintFactor_TopDis()ç°åœ¨çœ‹æ¥å‡æ˜¯æœ‰é—®é¢˜çš„ã€‚DefineConstraintFactors_v2()ç›¸è¾ƒäºDefineConstraintFactors()å°‘äº†å°ºåº¦å¤„ç†éƒ¨åˆ†ï¼Œæœ¬æ„æ˜¯æƒ³ç›´æ¥æŒ‰å½’ä¸€åŒ–çš„æƒé‡æ¥ç´¯è®¡objectiveä¸­çš„èƒ½é‡å€¼ï¼Œä½†ä½˜ç•¥çš„æ­¥éª¤æœ‰ä¸¤ä¸ªéšæ‚£ï¼šä¸€æ˜¯ä»£ç ä¸èƒ½é‡é¡¹å…¬å¼ä¸ç¬¦ï¼Œæ¯ä¸ªé¡¹çš„ç³»æ•°å‡å°‘äº†åˆ†æ¯é¡¹ï¼›äºŒæ˜¯å¦‚<sup>[26]</sup>æ‰€è¯´ä¼šæœ‰æ½œåœ¨çš„ç²¾åº¦æŸå¤±ã€‚è€Œå¦ä¸€ä¸ªå‡½æ•°DefineConstraintFactor_TopDis()æ˜¯æˆ‘å¯¹ä¿®æ”¹èƒ½é‡å…¬å¼çš„ä¸€æ¬¡å¤±è´¥å°è¯•ï¼Œä»æœ€ç»ˆç»“æœä¸Šçœ‹ï¼Œé¡¶éƒ¨è¡¨é¢å‡¹å‡¸ä¸å¹³å‘å‘æ´¼æ´¼è€Œä¸æ˜¯æ›´ä¸°å¯Œã€è§„æ•´çš„ç»†åŒ–ç»“æ„ï¼Œæˆ–è®¸æ˜¯æƒé‡åˆ†é…çš„ä¸åˆç†&#x2F;æœªè®¾ç½®é¢å¤–çš„æ¡ä»¶çº¦æŸã€‚<br>ä¸ç®¡æ€ä¹ˆè¯´ï¼Œè¿˜æ˜¯æŠŠè¿™ä¸€å¨ä¿ç•™ä¸‹æ¥å­˜æ¡£äº†ï¼Œå±äºæ˜¯ç›¸å½“ç®€é™‹äº†ï¼ˆç¬‘ï¼‰ã€‚ä»£ç ä¸­å…ˆå–å‡ºæŒ‡å‘MIPæ±‚è§£å™¨çš„çº¿æ€§å¯¹è±¡æŒ‡é’ˆ*objectiveï¼Œä¸ºmesh_candidateä¸­çš„æ‰€æœ‰é¢å¯¹è±¡ç´¯è®¡å€¼_wt_roof * dist_p2boxTopï¼Œ_wt_roofæ˜¯é¢„è®¾çš„æƒé‡ç³»æ•°ï¼Œdist_p2boxTopæ˜¯è¯¥é¢ç‰‡åˆ°åŒ…å›´ç›’é¡¶éƒ¨çš„å½’ä¸€åŒ–è·ç¦»å€¼ï¼Œè¯¦è§ä¸Šä¸€å¤§èŠ‚çš„â€œæ·»åŠ é¢å¤–çš„å¹³é¢å±æ€§â€ï¼Œç†è®ºä¸Šä¼šè®©æ±‚è§£å™¨æ›´å€¾å‘äºé€‰å–é è¿‘é¡¶éƒ¨çš„é¢ï¼ˆè¿™ç±»variablesç´¯è®¡çš„å€¼ç›¸å¯¹è€Œè¨€æ›´å°ï¼‰ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ReconstructProcess::DefineConstraintFactor_TopDis</span><span class="params">(<span class="type">const</span> Polygon_mesh &amp; mesh_candidate)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, <span class="type">double</span>&gt; face_roof =</span><br><span class="line">		mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, <span class="type">double</span>&gt;(<span class="string">&quot;f:dist_boxTop&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢ç‰‡å±é¡¶é¢</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt; face_indices =</span><br><span class="line">		mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt;(<span class="string">&quot;f:index&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//double total_points = 0.0;//æ”¯æ’‘ç‚¹æ€»æ•°</span></span><br><span class="line">	<span class="comment">//std::size_t num_faces = mesh_candidate.number_of_faces();//å€™é€‰è¡¨é¢çš„é¢æ•°é‡</span></span><br><span class="line"></span><br><span class="line">	MIP_Solver::Linear_objective * objective = solver.<span class="built_in">objective</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¯¹æ¯ä¸ªèƒ½é‡å‡½æ•°ï¼Œç´¯è®¡é¡¶é¢åå¥½å€¼</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> f : mesh_candidate.<span class="built_in">faces</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		std::<span class="type">size_t</span> var_idx = face_indices[f];</span><br><span class="line"></span><br><span class="line">		<span class="type">double</span> dist_p2boxTop = face_roof[f];</span><br><span class="line">		objective-&gt;<span class="built_in">add_coefficient</span>(variables[var_idx], _wt_roof * dist_p2boxTop);<span class="comment">//ç¦»åŒ…å›´ç›’é¡¶é¢è¶Šè¿œï¼Œå€¼è¶Šå¤§</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™éƒ¨åˆ†é»˜è®¤æ˜¯ä¸ä½¿ç”¨çš„ï¼Œå¯å°†_isUseRoofObjä¿®æ”¹ä¸ºtrueæ¥å¯ç”¨ã€‚</p>
<h2 id="æ„å»ºçº¦æŸæ–¹ç¨‹"><a href="#æ„å»ºçº¦æŸæ–¹ç¨‹" class="headerlink" title="æ„å»ºçº¦æŸæ–¹ç¨‹"></a>æ„å»ºçº¦æŸæ–¹ç¨‹</h2><p>è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹é‚£ä¼šç¿»è¯‘é”™åå­—äº†ï¼Œåº”è¯¥æ˜¯â€œè¡¥å……çº¦æŸâ€æ›´è´´åˆäº›ï¼Œå…¶æ ¸å¿ƒç›®çš„æ˜¯ä¸ºå€™é€‰é¢ç‰‡mesh_candidateä¸­é‚£äº›ä¸é”è¾¹ç›¸å…³çš„å¯¹è±¡æ·»åŠ çº¦æŸï¼Œä»è€Œä¿è¯åœ¨é‡æ„è¿‡ç¨‹ä¸­å¦‚æœæŸä¸ªè¾¹è¢«è®¤å®šä¸ºé”è¾¹ï¼Œé‚£ä¹ˆå…¶ç›¸é‚»çš„é¢å¿…é¡»æ»¡è¶³ä¸€å®šçš„é€‰æ‹©æ¡ä»¶ï¼Œé¿å…å‡ºç°ä¸è¿ç»­æˆ–ä¸åˆç†çš„è¡¨é¢ã€‚<br>ä»£ç å°è£…åœ¨ReconstructProcess::BuildConstraint()ï¼Œä»£ç è§£æå¤§å¤šå€ŸåŠ©GPTã€‚æ¾å¼›å› å­Mç”¨äºæ„é€ å¸¦æœ‰æ¡ä»¶é€»è¾‘çš„çº¿æ€§çº¦æŸï¼Œä½¿å¾—çº¦æŸå¯ä»¥ç”¨çº¿æ€§è¡¨è¾¾å¼è¡¨ç¤ºã€‚ç„¶åæ˜¯æŒ‰ç…§ä¸ç­‰å¼â€œX[var_edge_usage_idx] - X[var_edge_sharp_idx] &gt;&#x3D; 0â€æ„å»ºçº¦æŸï¼Œå®ƒè¡¨æ˜å¦‚æœä¸€ä¸ªè¾¹è¢«æ ‡è®°ä¸ºé”è¾¹ï¼ˆX[var_edge_usage_idx] &#x3D; 1ï¼‰ï¼Œåˆ™å®ƒä¸€å®šè¦è¢«é€‰ä¸­ï¼ˆX[var_edge_sharp_idx] &#x3D; 1ï¼‰ï¼Œä»¥ä¿æŒçº¦æŸæˆç«‹ã€‚è‹¥è¾¹æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œåˆ™æ— è®ºå…¶æ˜¯å¦ä¸ºé”è¾¹ï¼Œè¿™ä¸ªçº¦æŸéƒ½ä¼šè‡ªåŠ¨æ»¡è¶³ï¼ˆå¯èƒ½æ­¤æ—¶çº¦æŸçš„å€¼ä¸º0ï¼Œå¤§æ¦‚ï¼‰ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ReconstructProcess::BuildConstraint</span><span class="params">(<span class="type">const</span> Polygon_mesh &amp; mesh_candidate)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//ä¸ºå°–é”çš„è¾¹ç¼˜æ·»åŠ çº¦æŸã€‚æå‡ºè¿™ä¸ªé™åˆ¶çš„è§£é‡Šå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°:</span></span><br><span class="line">	<span class="comment">// https://user-images.githubusercontent.com/15526536/30185644-12085a9c-942b-11e7-831d-290dd2a4d50c.png</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">// mesh_candidate å±æ€§æ˜ å°„</span></span><br><span class="line">	<span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, <span class="type">const</span> Kernel::Plane_3*&gt; face_supporting_planes =</span><br><span class="line">		mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, <span class="type">const</span> Kernel::Plane_3*&gt;(<span class="string">&quot;f:supp_plane&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢çš„æ”¯æ’‘é¢</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt; face_indices =</span><br><span class="line">		mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt;(<span class="string">&quot;f:index&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="type">double</span> M = <span class="number">1.0</span>;<span class="comment">//çº¿æ€§è§„åˆ’ä¸­çš„æ¾å¼›å˜é‡</span></span><br><span class="line">	<span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; _adjacency.<span class="built_in">size</span>(); ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">const</span> Intersection&amp; fan = _adjacency[i];<span class="comment">//è·å–å®¹å™¨_é‚»æ¥å…³ç³»ä¸­çš„äº¤å‰è¾¹</span></span><br><span class="line">		<span class="keyword">if</span> (fan.<span class="built_in">size</span>() != <span class="number">4</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//æ„å»ºçº¦æŸï¼šX[var_edge_usage_idx] &gt;= X[var_edge_sharp_idx]ã€‚è¡¨ç¤ºå¦‚æœä¸€ä¸ªäº¤å‰è¾¹æ˜¯é”åˆ©çš„ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»è¢«é€‰æ‹©</span></span><br><span class="line">		MIP_Solver::Linear_constraint* c = solver.<span class="built_in">create_constraint</span>(<span class="number">0.0</span>);<span class="comment">//çº¿æ€§çº¦æŸå¯¹è±¡_ä¸‹ç•Œï¼Œè¡¨ç¤ºçº¦æŸæ˜¯å¤§äºç­‰äº0çš„ä¸ç­‰å¼çº¦æŸ</span></span><br><span class="line">		std::<span class="type">size_t</span> var_edge_usage_idx = edge_usage_status[&amp;fan];</span><br><span class="line">		c-&gt;<span class="built_in">add_coefficient</span>(variables[var_edge_usage_idx], <span class="number">1.0</span>);<span class="comment">//å¯¹ä½¿ç”¨çŠ¶æ€å˜é‡æ·»åŠ ç³»æ•°ï¼Œç³»æ•°å€¼ä¸º1.0</span></span><br><span class="line">		std::<span class="type">size_t</span> var_edge_sharp_idx = edge_sharp_status[&amp;fan];</span><br><span class="line">		c-&gt;<span class="built_in">add_coefficient</span>(variables[var_edge_sharp_idx], <span class="number">-1.0</span>);<span class="comment">//å¯¹é”åˆ©çŠ¶æ€å˜é‡æ·»åŠ ç³»æ•°ï¼Œç³»æ•°å€¼ä¸º-1.0</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//é¢å¤–çº¦æŸ</span></span><br><span class="line">		<span class="comment">//......</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">///è¾“å‡ºæµ‹è¯•</span></span><br><span class="line">	<span class="comment">//std::cout &lt;&lt; &quot;æœ€åçš„å„ä¸ªå˜é‡é¡¹&quot; &lt;&lt; std::endl;</span></span><br><span class="line">	<span class="comment">//CheckObjectiveValue(mesh_candidate);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†…å±‚çš„åŒé‡å¾ªç¯æ˜¯ä¸ºæ¯å¯¹é‚»æ¥å…³ç³»çš„ç›¸å…³é¢æ·»åŠ é¢å¤–çº¦æŸï¼Œå–å½“å‰é‚»æ¥fanå…³è”çš„æ‰€æœ‰é¢ä¸¤ä¸¤ç»„åˆï¼Œå¤–å±‚å¾ªç¯çš„ä¸ºf1å†…å±‚å¾ªç¯ä¸ºf2ï¼Œåˆ¤æ–­ç»„åˆçš„è¿™ä¸¤ä¸ªé¢æ˜¯å¦å…±é¢ï¼Œè‹¥å¯¹åº”çš„æ”¯æ’‘é¢face_supporting_planesä¸åŒåˆ™ä¸å…±é¢ï¼Œåˆ™ä¸¤ä¸ªé¢åœ¨å‡ ä½•ä¸Šå­˜åœ¨ä¸è¿ç»­çš„å¯èƒ½ï¼Œéœ€è¿›ä¸€æ­¥è®¾ç½®çº¦æŸã€‚è¯¥çº¦æŸçš„è¡¨è¾¾å¼è§æ³¨é‡Šéƒ¨åˆ†ï¼Œå…¶ä¸­ï¼Œä¸ºæ»¡è¶³é”è¾¹çš„çº¦æŸï¼ˆX[var_edge_sharp_idx] &#x3D; 1çš„æƒ…å†µï¼‰ï¼Œè¦æ±‚è¯¥è¾¹ç›¸å…³çš„å››ä¸ªé¢è‡³å°‘æœ‰ä¸¤ä¸ªé¢è¢«é€‰ä¸­ã€‚ä»£ç çš„å†™æ³•åº”è¯¥æ˜¯åœ¨è¯¥çº¦æŸcä¸­ï¼Œæ‰€é€‰çš„è¾¹ã€é¢å˜é‡çš„ç´¯åŠ å€¼ä¸å°äº1 - 3Mã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¢å¤–çº¦æŸ</span></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> j = <span class="number">0</span>; j &lt; fan.<span class="built_in">size</span>(); ++j)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//è·å–ç›¸é‚»æ¬¡åºçš„ä¸¤ä¸ªäº¤å‰è¾¹åŠå…¶æ”¯æ’‘é¢</span></span><br><span class="line">	Polygon_mesh::Face_index f1 = mesh_candidate.<span class="built_in">face</span>(fan[j]);</span><br><span class="line">	<span class="type">const</span> Kernel::Plane_3* plane1 = face_supporting_planes[f1];</span><br><span class="line">	std::<span class="type">size_t</span> fid1 = face_indices[f1];</span><br><span class="line">	<span class="keyword">for</span> (std::<span class="type">size_t</span> k = j + <span class="number">1</span>; k &lt; fan.<span class="built_in">size</span>(); ++k)</span><br><span class="line">	&#123;</span><br><span class="line">		Polygon_mesh::Face_index f2 = mesh_candidate.<span class="built_in">face</span>(fan[k]);</span><br><span class="line">		<span class="type">const</span> Kernel::Plane_3* plane2 = face_supporting_planes[f2];</span><br><span class="line">		std::<span class="type">size_t</span> fid2 = face_indices[f2];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (plane1 != plane2)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//ä¸¤ä¸ªæ”¯æ’‘é¢ä¸å…±é¢çš„æƒ…å†µä¸‹ï¼Œæ„æˆçº¦æŸï¼šX[var_edge_sharp_idx] + M * (3 - (X[fid1] + X[fid2] + X[var_edge_usage_idx])) &gt;= 1ï¼Œ</span></span><br><span class="line">			<span class="comment">//ç­‰ä»·äºï¼šX[var_edge_sharp_idx] - M * X[fid1] - M * X[fid2] - M * X[var_edge_usage_idx] &gt;= 1 - 3M</span></span><br><span class="line">			<span class="comment">//è¡¨ç¤ºå¦‚æœä¸€ä¸ªäº¤å‰è¾¹æ˜¯é”åˆ©çš„ï¼Œé‚£ä¹ˆå®ƒæ‰€åœ¨çš„å››ä¸ªé¢ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªè¢«é€‰æ‹©ï¼Œå¦åˆ™å°±ä¼šå¯¼è‡´è¡¨é¢ä¸è¿ç»­</span></span><br><span class="line">			c = solver.<span class="built_in">create_constraint</span>(<span class="number">1.0</span> - <span class="number">3.0</span> * M);<span class="comment">//çº¿æ€§çº¦æŸå¯¹è±¡_ä¸‹ç•Œï¼Œè¡¨ç¤ºçº¦æŸæ˜¯å¤§äºç­‰äºè¿™ä¸ªå€¼çš„ä¸ç­‰å¼çº¦æŸ</span></span><br><span class="line">			c-&gt;<span class="built_in">add_coefficient</span>(variables[var_edge_sharp_idx], <span class="number">1.0</span>);<span class="comment">//çº¿æ€§çº¦æŸå¯¹è±¡_å¯¹é”åˆ©çŠ¶æ€å˜é‡æ·»åŠ ä¸€ä¸ªç³»æ•°ï¼Œè®¾ä¸º1.0</span></span><br><span class="line">			c-&gt;<span class="built_in">add_coefficient</span>(variables[fid1], -M);<span class="comment">//çº¿æ€§çº¦æŸå¯¹è±¡_è®¾ç½®ç¬¬ä¸€é¢çš„å˜é‡ç³»æ•°ä¸º-M</span></span><br><span class="line">			c-&gt;<span class="built_in">add_coefficient</span>(variables[fid2], -M);<span class="comment">//çº¿æ€§çº¦æŸå¯¹è±¡_è®¾ç½®ç¬¬äºŒé¢çš„å˜é‡ç³»æ•°ä¸º-M</span></span><br><span class="line">			c-&gt;<span class="built_in">add_coefficient</span>(variables[var_edge_usage_idx], -M);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»¼ä¸Šï¼ŒBuildConstraint()é¢å¤–è®¾ç½®äº†ä¸¤æ¡çº¦æŸï¼Œç¬¬ä¸€æ¡çº¦æŸï¼šè‹¥ä¸€æ¡è¾¹ä¸ºé”è¾¹ï¼Œåˆ™è¯¥è¾¹å¿…é¡»è¢«æ¿€æ´»ä½¿ç”¨ï¼›ç¬¬äºŒæ¡çº¦æŸï¼šé”è¾¹çš„é‚»è¿‘å…³ç³»ä¸­å¿…é¡»æœ‰ä¸¤ä¸ªé¢è¢«é€‰æ‹©ï¼Œæ¥ç¡®ä¿ç½‘ç»œçš„è¡¨é¢æ•´ä½“è¿ç»­ã€‚</p>
<h2 id="çº¦æŸæ–¹ç¨‹æ±‚è§£"><a href="#çº¦æŸæ–¹ç¨‹æ±‚è§£" class="headerlink" title="çº¦æŸæ–¹ç¨‹æ±‚è§£"></a>çº¦æŸæ–¹ç¨‹æ±‚è§£</h2><p>ç¬¬å››éƒ¨åˆ†ï¼Œåœ¨åˆ—å¥½çº¿æ€§è§„åˆ’é—®é¢˜çš„å˜é‡å¯¹è±¡åŠçº¦æŸæ¡ä»¶åï¼Œè°ƒç”¨MIPæ±‚è§£å™¨è§£å‡ºå€™é€‰ç½‘ç»œçš„æœ€ä¼˜ç»„åˆï¼Œè¿›è€Œç”Ÿæˆä¸‰ç»´æ¨¡å‹ã€‚å®ç°ä»£ç å°è£…åœ¨ReconstructProcess::SolveConstraint()ä¸­ï¼Œé¦–å…ˆï¼Œå…ˆè°ƒç”¨æ±‚è§£å™¨çš„solve()æ–¹æ³•ï¼Œåªæœ‰åœ¨æ±‚è§£å™¨æˆåŠŸæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ‰€æœ‰çº¦æŸçš„è§£æ—¶ï¼Œæ‰å¯¹å€™é€‰ç½‘æ ¼è¿›è¡Œå¤„ç†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (solver.<span class="built_in">solve</span>())<span class="comment">//æ±‚è§£çº¿æ€§è§„åˆ’é—®é¢˜æˆåŠŸ</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//åç»­çš„å¤„ç†åŸºäºæ±‚è§£æˆåŠŸåçš„è§£</span></span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	std::cerr &lt;&lt; <span class="string">&quot;solving the binary program failed&quot;</span> &lt;&lt; std::endl;</span><br></pre></td></tr></table></figure>
<p>æ±‚è§£å®Œæ¯•åï¼Œå°†æ‰€æœ‰å˜é‡ï¼ˆé¢ã€è¾¹çš„é€‰æ‹©ã€å°–é”è¾¹çŠ¶æ€ï¼‰çš„å€¼ç”¨solver.solution()å–å‡ºå¹¶å­˜å…¥åˆ°è§£å‘é‡Xä¸­ï¼Œè¿™äº›è§£åº”è¯¥æ˜¯0æˆ–1çš„äºŒå…ƒè§£ã€‚ç„¶åï¼Œ<br>éå†å€™é€‰é¢é›†çš„ä¸‹æ ‡å¹¶ä»Xä¸­å–ç›¸åº”çš„å€¼ï¼Œè‹¥å…¶å€¼å››èˆäº”å…¥åä¸º0ï¼Œè¯´æ˜è¿™ä¸ªé¢åœ¨è§£ä¸­æ²¡æœ‰è¢«é€‰ä¸­ï¼Œå°†å…¶è®°å½•åˆ°åˆ é™¤åˆ—è¡¨to_deleteã€‚æ¥ç€è°ƒç”¨CGAL::Euler::remove_face()æ–¹æ³•ï¼Œæ ¹æ®to_deleteä¸­é¢çš„åŠè¾¹ç´¢å¼•ç§»é™¤mesh_candidateæ‰€æœ‰æœªè¢«é€‰ä¸­çš„é¢ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1ã€æ ¹æ®solveä¸­çš„è§£ï¼Œåˆ é™¤ mesh_candidate ä¸­ç›¸åº”çš„è¾¹</span></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt; face_indices =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">property_map</span>&lt;Polygon_mesh::Face_index, std::<span class="type">size_t</span>&gt;(<span class="string">&quot;f:index&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_é¢ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> std::vector&lt;<span class="type">double</span>&gt;&amp; X = solver.<span class="built_in">solution</span>();<span class="comment">//çº¿æ€§è§„åˆ’é—®é¢˜çš„è§£</span></span><br><span class="line"></span><br><span class="line">std::vector&lt;Polygon_mesh::Face_index&gt; to_delete;<span class="comment">//å®¹å™¨_é¢ç´¢å¼•_è®°å½•éœ€è¦åˆ é™¤çš„é¢</span></span><br><span class="line"><span class="function">std::<span class="type">size_t</span> <span class="title">f_idx</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> f : mesh_candidate.<span class="built_in">faces</span>())</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">///è¾“å‡ºæµ‹è¯•2.9</span></span><br><span class="line">	<span class="comment">//std::cout &lt;&lt; X[f_idx] &lt;&lt; &quot;  &quot;;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è§£çš„å€¼å››èˆäº”å…¥åç­‰äº0ï¼Œè¯´æ˜è¿™ä¸ªé¢æ²¡æœ‰è¢«é€‰æ‹©ï¼Œå°†è¯¥é¢çš„ç´¢å¼•å­˜å…¥ to_delete</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(std::<span class="built_in">round</span>(X[f_idx])) == <span class="number">0</span>)</span><br><span class="line">		to_delete.<span class="built_in">push_back</span>(f);</span><br><span class="line">	++f_idx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†éœ€è¦åˆ é™¤çš„é¢ï¼Œä½¿ç”¨ CGAL::Euler::remove_face() ï¼Œæ ¹æ®åŠè¾¹ç´¢å¼•åˆ é™¤ç›¸åº”é¢</span></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; to_delete.<span class="built_in">size</span>(); ++i)</span><br><span class="line">&#123;</span><br><span class="line">	Polygon_mesh::Face_index f = to_delete[i];</span><br><span class="line">	Polygon_mesh::Halfedge_index h = mesh_candidate.<span class="built_in">halfedge</span>(f);</span><br><span class="line">	CGAL::Euler::<span class="built_in">remove_face</span>(h, mesh_candidate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€å°éƒ¨åˆ†å†…å®¹æ˜¯æ›´æ–°é¢é›†çš„é”è¾¹ä¿¡æ¯ï¼Œå¯¹mesh_candidateä¸­çš„è¾¹å¢åŠ ä¸€ä¸ªå±æ€§â€e:sharp_edgesâ€ï¼Œç„¶åæ ‡è®°MIPè§£ä¸­æ»¡è¶³é”è¾¹æ¡ä»¶çš„è¾¹ï¼Œè®¾è¯¥å±æ€§å€¼ä¸ºtrueï¼Œæ–¹ä¾¿åç»­å¤„ç†ä¸­å¯¹è¿™äº›è¾¹åšç‰¹æ®Šå¤„ç†ï¼ˆæå–è¾¹ç•Œç‰¹å¾ã€ç»†åŒ–é”è§’ç­‰ï¼‰ã€‚æœ¬ç¨‹åºåç»­æœªæœ‰æ•ˆåˆ©ç”¨è¯¥å±æ€§ï¼Œå¯è§†æƒ…å†µæ³¨é‡Šæ‰ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2ã€è®¾ç½® mesh_candidate ä¸­çš„é”åˆ©è¾¹å±æ€§</span></span><br><span class="line"><span class="keyword">typename</span> Polygon_mesh::<span class="keyword">template</span> Property_map&lt;Polygon_mesh::Edge_index, <span class="type">bool</span>&gt; edge_is_sharp =</span><br><span class="line">	mesh_candidate.<span class="keyword">template</span> <span class="built_in">add_property_map</span>&lt;Polygon_mesh::Edge_index, <span class="type">bool</span>&gt;(<span class="string">&quot;e:sharp_edges&quot;</span>).first;<span class="comment">//å±æ€§æ˜ å°„_æ˜¯å¦é”åˆ©è¾¹</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> e : mesh_candidate.<span class="built_in">edges</span>())</span><br><span class="line">	edge_is_sharp[e] = <span class="literal">false</span>;<span class="comment">//è¯¥å±æ€§æ˜ å°„é»˜è®¤æ²¡æœ‰é”åˆ©è¾¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; _adjacency.<span class="built_in">size</span>(); ++i)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> Intersection&amp; fan = _adjacency[i];</span><br><span class="line">	<span class="keyword">if</span> (fan.<span class="built_in">size</span>() != <span class="number">4</span>)</span><br><span class="line">		<span class="keyword">continue</span>;<span class="comment">//è·³è¿‡è¾¹ç•Œè¾¹</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è·å–äº¤å‰è¾¹çš„é”åˆ©çŠ¶æ€å˜é‡ç´¢å¼•ï¼Œè‹¥è¯¥å€¼ä¸º1ï¼ˆè¯¥è¾¹æ˜¯é”åˆ©çš„ï¼‰</span></span><br><span class="line">	std::<span class="type">size_t</span> idx_sharp_var = edge_sharp_status[&amp;fan];</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(X[idx_sharp_var]) == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (std::<span class="type">size_t</span> j = <span class="number">0</span>; j &lt; fan.<span class="built_in">size</span>(); ++j)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//è·å–æ¯ä¸ªåŠè¾¹çš„ç´¢å¼•å’Œç›¸åº”çš„é¢ç´¢å¼•ï¼Œè‹¥é¢ç´¢å¼•éç©ºï¼ˆè¯¥é¢æœªè¢«åˆ é™¤ï¼‰</span></span><br><span class="line">			Polygon_mesh::Halfedge_index h = fan[j];</span><br><span class="line">			Polygon_mesh::Face_index f = mesh_candidate.<span class="built_in">face</span>(h);</span><br><span class="line">			<span class="keyword">if</span> (f != Polygon_mesh::<span class="built_in">null_face</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//è·å–è¯¥é¢ï¼Œè‹¥æœè§£çš„fidå…ƒç´ å››èˆäº”å…¥åå€¼ä¸º1</span></span><br><span class="line">				std::<span class="type">size_t</span> fid = face_indices[f];</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(std::<span class="built_in">round</span>(X[fid])) == <span class="number">1</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					Polygon_mesh::Edge_index e = mesh_candidate.<span class="built_in">edge</span>(h);</span><br><span class="line">					edge_is_sharp[e] = <span class="literal">true</span>;<span class="comment">//è¯¥é¢è¢«é€‰æ‹©ï¼Œè®¾ç½®è¯¥è¾¹çš„ å±æ€§æ˜ å°„_é”åˆ© å€¼ä¸ºçœŸ</span></span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶çš„mesh_candidateä¾¿æ˜¯æœ€ç»ˆçš„ç½‘ç»œæ¨¡å‹ï¼Œè°ƒç”¨CGAL::copy_face_graphå°†å…¶å¤åˆ¶åˆ°modelä¸­ï¼Œå®ƒåæ˜ äº†æ±‚è§£å™¨ç»™å‡ºçš„æœ€ä½³é€‰æ‹©ç»“æœã€‚<br><img src="å€™é€‰é¢é›†2é—­åˆæ¨¡å‹.png" alt="å€™é€‰é¢é›†2é—­åˆæ¨¡å‹" title="å€™é€‰é¢é›†2é—­åˆæ¨¡å‹"><br>OKå…„å¼Ÿä»¬ï¼ŒPolyFitçš„æ•´ä¸ªæµç¨‹æ€»ç®—èµ°å®Œä¸€éäº†ï¼Œä¼ å…¥çš„ç‚¹äº‘æ•°æ®å†ç»åŒºåŸŸèšç±»ã€å¹³é¢æ‹Ÿåˆã€ä¸¤ä¸¤ç›¸äº¤ç»†åˆ†ã€çº¿æ€§è§„åˆ’æ±‚è§£åï¼Œç»ˆäºç”Ÿæˆäº†ä¸€æ•´å—é—­åˆä¸”è´´è¿‘åŸå§‹è¡¨é¢çš„å¤šè¾¹å‹ç½‘ç»œï¼ŒçœŸæ˜¯å¯å–œå¯è´ºå¯å£å¯ä¹~~ä¸è¿‡ç°åœ¨å®ƒè¿™ä¸ªèŠ±èŠ±ç»¿ç»¿çš„æ ·å­è¿˜æœ‰å¾…ç®€åŒ–åˆå¹¶ä¸‹ï¼Œä¸‹ä¸€èŠ‚å†æ•´ç†æ•´ç†æ¨¡å‹çš„é¢ç‰‡åˆå¹¶å’Œæ¨¡å‹å¯¼å‡ºæ–¹æ³•ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®-å¼•ç”¨"><a href="#å‚è€ƒæ–‡çŒ®-å¼•ç”¨" class="headerlink" title="å‚è€ƒæ–‡çŒ®&amp;å¼•ç”¨"></a>å‚è€ƒæ–‡çŒ®&amp;å¼•ç”¨</h2><p><span>[1] <a target="_blank" rel="noopener" href="https://3d.bk.tudelft.nl/liangliang/">https://3d.bk.tudelft.nl/liangliang/</a></span><br><span>[2] <a target="_blank" rel="noopener" href="https://3d.bk.tudelft.nl/liangliang/publications/2017/polyfit/polyfit.html">https://3d.bk.tudelft.nl/liangliang/publications/2017/polyfit/polyfit.html</a></span><br><span>[3] <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=_0brfDFkIkc">https://www.youtube.com/watch?v=_0brfDFkIkc</a></span><br><span>[4] Linfu X ,Han H ,Qing Z , et al. Combined Rule-Based and Hypothesis-Based Method for Building Model Reconstruction from Photogrammetric Point Clouds [J]. Remote Sensing, 2021, 13 (6): 1107-1107.</span><br><span> [5] Nan L , Wonka P .PolyFit: Polygonal Surface Reconstruction from Point Clouds[C]&#x2F;&#x2F;International Conference on Computer Vision.IEEE, 2017.</span><br>[6] <a target="_blank" rel="noopener" href="https://github.com/Kitware/CMake/releases/download/v3.29.3/cmake-3.29.3-windows-x86_64.zip">https://github.com/Kitware/CMake/releases/download/v3.29.3/cmake-3.29.3-windows-x86_64.zip</a><br>[7] <a target="_blank" rel="noopener" href="https://boostorg.jfrog.io/artifactory/main/release/1.85.0/source/boost_1_85_0.7z">https://boostorg.jfrog.io/artifactory/main/release/1.85.0/source/boost_1_85_0.7z</a><br>[8] <a target="_blank" rel="noopener" href="https://github.com/CGAL/cgal/releases/download/v5.6.1/CGAL-5.6.1.zip">https://github.com/CGAL/cgal/releases/download/v5.6.1/CGAL-5.6.1.zip</a><br>[9] <a target="_blank" rel="noopener" href="https://gitlab.com/libeigen/eigen/-/archive/3.4.0/eigen-3.4.0.zip">https://gitlab.com/libeigen/eigen/-/archive/3.4.0/eigen-3.4.0.zip</a><br>[10] <a target="_blank" rel="noopener" href="https://scipopt.org/download.php?fname=SCIPOptSuite-9.0.0-win64-VS15.exe">https://scipopt.org/download.php?fname=SCIPOptSuite-9.0.0-win64-VS15.exe</a><br>[11] <a target="_blank" rel="noopener" href="https://zenodo.org/records/4390295#.Y0eIodJBxuV">https://zenodo.org/records/4390295#.Y0eIodJBxuV</a><br>[12] <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/277599635/answer/2149719454">https://www.zhihu.com/question/277599635/answer/2149719454</a><br>[13] <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/668272208">https://zhuanlan.zhihu.com/p/668272208</a><br>[14] <a target="_blank" rel="noopener" href="https://doc.cgal.org/latest/Polygonal_surface_reconstruction/index.html#Chapter_PolygonalSurfaceReconstruction">https://doc.cgal.org/latest/Polygonal_surface_reconstruction/index.html#Chapter_PolygonalSurfaceReconstruction</a><br>[15] <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/90858099">https://zhuanlan.zhihu.com/p/90858099</a><br>[16] <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/668272208">https://zhuanlan.zhihu.com/p/668272208</a><br>[17] <a target="_blank" rel="noopener" href="https://doc.cgal.org/latest/HalfedgeDS/index.html">https://doc.cgal.org/latest/HalfedgeDS/index.html</a><br>[18] <a target="_blank" rel="noopener" href="https://segmentfault.com/q/1010000043819426">https://segmentfault.com/q/1010000043819426</a><br>[19] <a target="_blank" rel="noopener" href="https://doc.cgal.org/latest/BGL/group__PkgBGLEulerOperations.html#gaa386d0cdef3b5d6ef43d6b503392dbcd">https://doc.cgal.org/latest/BGL/group__PkgBGLEulerOperations.html#gaa386d0cdef3b5d6ef43d6b503392dbcd</a><br>[20] <a target="_blank" rel="noopener" href="https://doc.cgal.org/latest/Shape_regularization/index.html">https://doc.cgal.org/latest/Shape_regularization/index.html</a><br>[21] <a target="_blank" rel="noopener" href="https://doi.org/10.3390/rs13061107">https://doi.org/10.3390/rs13061107</a><br>[22] <a target="_blank" rel="noopener" href="https://doi.org/10.1016/j.isprsjprs.2022.09.017">https://doi.org/10.1016/j.isprsjprs.2022.09.017</a><br>[23] <a target="_blank" rel="noopener" href="https://blog.csdn.net/u013279723/article/details/106265948">https://blog.csdn.net/u013279723/article/details/106265948</a><br><font color=#CD5C5C>[24] <a target="_blank" rel="noopener" href="https://www.gurobi.com/resources/mixed-integer-programming-mip-a-primer-on-the-basics/">https://www.gurobi.com/resources/mixed-integer-programming-mip-a-primer-on-the-basics/</a><br>[25] <a target="_blank" rel="noopener" href="https://docs.mosek.com/modeling-cookbook/mio.html">https://docs.mosek.com/modeling-cookbook/mio.html</a><br>[26] <a target="_blank" rel="noopener" href="https://github.com/LiangliangNan/PolyFit/issues/30">https://github.com/LiangliangNan/PolyFit/issues/30</a><br></font></p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Sleeping-Ahead
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="http://example.com/2025/02/19/PolyFit07/" title="ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆä¸ƒï¼‰">http://example.com/2025/02/19/PolyFit07/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/C/" rel="tag"><i class="fa fa-tag"></i> C++</a>
              <a href="/tags/CGAL/" rel="tag"><i class="fa fa-tag"></i> CGAL</a>
              <a href="/tags/PolyFit/" rel="tag"><i class="fa fa-tag"></i> PolyFit</a>
              <a href="/tags/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92/" rel="tag"><i class="fa fa-tag"></i> æœ€å°äºŒä¹˜çº¿æ€§è§„åˆ’</a>
              <a href="/tags/%E8%83%BD%E9%87%8F%E5%87%BD%E6%95%B0/" rel="tag"><i class="fa fa-tag"></i> èƒ½é‡å‡½æ•°</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/01/21/PolyFit06/" rel="prev" title="ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆå…­ï¼‰">
      <i class="fa fa-chevron-left"></i> ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆå…­ï¼‰
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/03/25/PolyFit08/" rel="next" title="ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆå…«ï¼‰">
      ç‚¹äº‘ä¸‰ç»´é‡å»º PolyFitç®—æ³•è§£æä¸æ”¹è¿›ï¼ˆå…«ï¼‰ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E4%B9%8B%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD"><span class="nav-number">1.</span> <span class="nav-text">çº¿æ€§è§„åˆ’ä¹‹èƒ¡è¨€ä¹±è¯­</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PolyFit%E7%9A%84%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E6%9C%AF%E8%AF%AD"><span class="nav-number">1.1.</span> <span class="nav-text">PolyFitçš„çº¿æ€§è§„åˆ’æœ¯è¯­</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E7%89%87%E6%9C%80%E4%BC%98%E9%87%8D%E5%BB%BA%E7%9A%84%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B"><span class="nav-number">2.</span> <span class="nav-text">é¢ç‰‡æœ€ä¼˜é‡å»ºçš„æ•´ä½“æµç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%82%BB%E6%8E%A5%E4%BF%A1%E6%81%AF%E6%8F%90%E5%8F%96"><span class="nav-number">3.</span> <span class="nav-text">é‚»æ¥ä¿¡æ¯æå–</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">è®¾ç½®çº¦æŸæ¡ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E9%A2%9D%E5%A4%96%E7%9A%84%E8%83%BD%E9%87%8F%E9%A1%B9"><span class="nav-number">4.1.</span> <span class="nav-text">è®¾ç½®é¢å¤–çš„èƒ½é‡é¡¹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E7%BA%A6%E6%9D%9F%E6%96%B9%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">æ„å»ºçº¦æŸæ–¹ç¨‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%A6%E6%9D%9F%E6%96%B9%E7%A8%8B%E6%B1%82%E8%A7%A3"><span class="nav-number">6.</span> <span class="nav-text">çº¦æŸæ–¹ç¨‹æ±‚è§£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-%E5%BC%95%E7%94%A8"><span class="nav-number">7.</span> <span class="nav-text">å‚è€ƒæ–‡çŒ®&amp;å¼•ç”¨</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Sleeping-Ahead"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Sleeping-Ahead</p>
  <div class="site-description" itemprop="description">ä¸»è¦ç”¨é€”æ˜¯æŠ€æœ¯/ç®—æ³•çš„è®°å½•åšå®¢å“’ï¼<br>å¶å°”æ‘˜æŠ„ç‚¹æ‚ä¸ƒæ‚å…«çš„éšæƒ³~~<br>å˜»å˜»Ô…(Â¯ï¹ƒÂ¯Ô…)</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Sleeping-ahead" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Sleeping-ahead" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/179235151" title="bilibili â†’ https:&#x2F;&#x2F;space.bilibili.com&#x2F;179235151" rel="noopener" target="_blank"><i class="iconfont icon-bilibili fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sleeping-Ahead</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">126k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">3:48</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

<!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® -->
<span id="timeDate">è½½å…¥å¤©æ•°...</span>
<span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/01/2023 10:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© ";
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’.";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
